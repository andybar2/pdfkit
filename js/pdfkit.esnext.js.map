{"version":3,"file":"pdfkit.esnext.js","sources":["../lib/abstract_reference.js","../lib/object.js","../lib/reference.js","../lib/page.js","../lib/gradient.js","../lib/mixins/color.js","../lib/path.js","../lib/mixins/vector.js","../lib/font/afm.js","../lib/font.js","../lib/font/standard.js","../lib/font/embedded.js","../lib/font_factory.js","../lib/mixins/fonts.js","../lib/line_wrapper.js","../lib/mixins/text.js","../lib/image/jpeg.js","../lib/image/png.js","../lib/image.js","../lib/mixins/images.js","../lib/mixins/annotations.js","../lib/outline.js","../lib/mixins/outline.js","../lib/document.js"],"sourcesContent":["/*\nPDFAbstractReference - abstract class for PDF reference\n*/\n\nclass PDFAbstractReference {\n  toString() {\n    throw new Error('Must be implemented by subclasses');\n  }\n}\n      \nexport default PDFAbstractReference;\n","/*\nPDFObject - converts JavaScript types into their corresponding PDF types.\nBy Devon Govett\n*/\n\nimport PDFAbstractReference from './abstract_reference';\n\nconst pad = (str, length) => (Array(length + 1).join('0') + str).slice(-length);\n  \nconst escapableRe = /[\\n\\r\\t\\b\\f\\(\\)\\\\]/g;\nconst escapable = {\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\\\': '\\\\\\\\',\n  '(': '\\\\(',\n  ')': '\\\\)'\n};\n\n// Convert little endian UTF-16 to big endian\nconst swapBytes = function(buff) {\n  const l = buff.length;\n  if (l & 0x01) {\n    throw new Error(\"Buffer length must be even\");\n  } else {\n    for (let i = 0, end = l - 1; i < end; i += 2) {\n      const a = buff[i];\n      buff[i] = buff[i + 1];\n      buff[i+1] = a;\n    }\n  }\n\n  return buff;\n};\n\nclass PDFObject {\n  static convert(object) {\n    // String literals are converted to the PDF name type\n    if (typeof object === 'string') {\n      return `/${object}`;\n\n    // String objects are converted to PDF strings (UTF-16)\n    } else if (object instanceof String) {\n      let string = object;\n      // Detect if this is a unicode string\n      let isUnicode = false;\n      for (let i = 0, end = string.length; i < end; i++) {\n        if (string.charCodeAt(i) > 0x7f) {\n          isUnicode = true;\n          break;\n        }\n      }\n\n      // If so, encode it as big endian UTF-16\n      if (isUnicode) {\n        string = swapBytes(new Buffer(`\\ufeff${string}`, 'utf16le')).toString('binary');\n      }\n\n      // Escape characters as required by the spec\n      string = string.replace(escapableRe, c => escapable[c]);\n\n      return `(${string})`;\n\n    // Buffers are converted to PDF hex strings\n    } else if (Buffer.isBuffer(object)) {\n      return `<${object.toString('hex')}>`;\n\n    } else if (object instanceof PDFAbstractReference) {\n      return object.toString();\n\n    } else if (object instanceof Date) {\n      return `(D:${pad(object.getUTCFullYear(), 4)}` +\n              pad(object.getUTCMonth() + 1, 2) +\n              pad(object.getUTCDate(), 2) +\n              pad(object.getUTCHours(), 2) +\n              pad(object.getUTCMinutes(), 2) +\n              pad(object.getUTCSeconds(), 2) +\n      'Z)';\n\n    } else if (Array.isArray(object)) {\n      const items = (object.map((e) => PDFObject.convert(e))).join(' ');\n      return `[${items}]`;\n\n    } else if ({}.toString.call(object) === '[object Object]') {\n      const out = ['<<'];\n      for (let key in object) {\n        const val = object[key];\n        out.push(`/${key} ${PDFObject.convert(val)}`);\n      }\n\n      out.push('>>');\n      return out.join('\\n');\n\n    } else if (typeof object === 'number') {\n      return PDFObject.number(object);\n\n    } else {\n      return `${object}`;\n    }\n  }\n\n  static number(n) {\n    if ((n > -1e21) && (n < 1e21)) {\n      return Math.round(n * 1e6) / 1e6;\n    }\n\n    throw new Error(`unsupported number: ${n}`);\n  }\n};\n\nexport default PDFObject;\n","/*\nPDFReference - represents a reference to another object in the PDF object heirarchy\nBy Devon Govett\n*/\n\nimport zlib from 'zlib';\nimport PDFAbstractReference from './abstract_reference';\nimport PDFObject from './object';\n\nclass PDFReference extends PDFAbstractReference {\n  constructor(document, id, data) {\n    super();    \n    this.document = document;\n    this.id = id;\n    if (data == null) { data = {}; }\n    this.data = data;\n    this.gen = 0;\n    this.compress = this.document.compress && !this.data.Filter;\n    this.uncompressedLength = 0;\n    this.buffer = [];\n  }\n\n  write(chunk) {\n    if (!Buffer.isBuffer(chunk)) {\n      chunk = new Buffer(chunk + '\\n', 'binary');\n    }\n\n    this.uncompressedLength += chunk.length;\n    if (this.data.Length == null) { this.data.Length = 0; }\n    this.buffer.push(chunk);\n    this.data.Length += chunk.length;\n    if (this.compress) {\n      return this.data.Filter = 'FlateDecode';\n    }\n  }\n\n  end(chunk) {\n    if (chunk) {\n      this.write(chunk);\n    }\n    return this.finalize();\n  }\n\n  finalize() {\n    return setTimeout(() => {\n      this.offset = this.document._offset;\n\n      this.document._write(`${this.id} ${this.gen} obj`);\n      this.document._write(PDFObject.convert(this.data));\n\n      if (this.buffer.length) {\n        this.buffer = Buffer.concat(this.buffer);\n        if (this.compress) {\n          this.buffer = zlib.deflateSync(this.buffer);\n          this.data.Length = this.buffer.length;\n        }\n        this.document._write('stream');\n        this.document._write(this.buffer);\n\n        this.buffer = []; // free up memory\n        this.document._write('\\nendstream');\n      }\n\n      this.document._write('endobj');\n      return this.document._refEnd(this);\n    }\n    , 0);\n  }\n  toString() {\n    return `${this.id} ${this.gen} R`;\n  }\n}\n\nexport default PDFReference;\n","/*\nPDFPage - represents a single page in the PDF document\nBy Devon Govett\n*/\n\nconst DEFAULT_MARGINS = { \n  top: 72,\n  left: 72,\n  bottom: 72,\n  right: 72\n};\n\nconst SIZES = {\n  '4A0': [4767.87, 6740.79],\n  '2A0': [3370.39, 4767.87],\n  A0: [2383.94, 3370.39],\n  A1: [1683.78, 2383.94],\n  A2: [1190.55, 1683.78],\n  A3: [841.89, 1190.55],\n  A4: [595.28, 841.89],\n  A5: [419.53, 595.28],\n  A6: [297.64, 419.53],\n  A7: [209.76, 297.64],\n  A8: [147.40, 209.76],\n  A9: [104.88, 147.40],\n  A10: [73.70, 104.88],\n  B0: [2834.65, 4008.19],\n  B1: [2004.09, 2834.65],\n  B2: [1417.32, 2004.09],\n  B3: [1000.63, 1417.32],\n  B4: [708.66, 1000.63],\n  B5: [498.90, 708.66],\n  B6: [354.33, 498.90],\n  B7: [249.45, 354.33],\n  B8: [175.75, 249.45],\n  B9: [124.72, 175.75],\n  B10: [87.87, 124.72],\n  C0: [2599.37, 3676.54],\n  C1: [1836.85, 2599.37],\n  C2: [1298.27, 1836.85],\n  C3: [918.43, 1298.27],\n  C4: [649.13, 918.43],\n  C5: [459.21, 649.13],\n  C6: [323.15, 459.21],\n  C7: [229.61, 323.15],\n  C8: [161.57, 229.61],\n  C9: [113.39, 161.57],\n  C10: [79.37, 113.39],\n  RA0: [2437.80, 3458.27],\n  RA1: [1729.13, 2437.80],\n  RA2: [1218.90, 1729.13],\n  RA3: [864.57, 1218.90],\n  RA4: [609.45, 864.57],\n  SRA0: [2551.18, 3628.35],\n  SRA1: [1814.17, 2551.18],\n  SRA2: [1275.59, 1814.17],\n  SRA3: [907.09, 1275.59],\n  SRA4: [637.80, 907.09],\n  EXECUTIVE: [521.86, 756.00],\n  FOLIO: [612.00, 936.00],\n  LEGAL: [612.00, 1008.00],\n  LETTER: [612.00, 792.00],\n  TABLOID: [792.00, 1224.00]\n};\n\nclass PDFPage {\n  constructor(document, options) {\n    this.document = document;\n    if (options == null) { options = {}; }\n    this.size = options.size || 'letter';\n    this.layout = options.layout || 'portrait';\n  \n    // process margins\n    if (typeof options.margin === 'number') {\n      this.margins = { \n        top: options.margin,\n        left: options.margin,\n        bottom: options.margin,\n        right: options.margin\n      };\n  \n    // default to 1 inch margins\n    } else {\n      this.margins = options.margins || DEFAULT_MARGINS;\n    }\n    \n    // calculate page dimensions\n    const dimensions = Array.isArray(this.size) ? this.size : SIZES[this.size.toUpperCase()];\n    this.width = dimensions[this.layout === 'portrait' ? 0 : 1];\n    this.height = dimensions[this.layout === 'portrait' ? 1 : 0];\n  \n    this.content = this.document.ref();\n  \n    // Initialize the Font, XObject, and ExtGState dictionaries\n    this.resources = this.document.ref({\n      ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI']});\n  \n    // Lazily create these dictionaries\n    Object.defineProperties(this, {\n      fonts: {\n        get: () => this.resources.data.Font != null ? this.resources.data.Font : (this.resources.data.Font = {})\n      },\n      xobjects: {\n        get: () => this.resources.data.XObject != null ? this.resources.data.XObject : (this.resources.data.XObject = {})\n      },\n      ext_gstates: {\n        get: () => this.resources.data.ExtGState != null ? this.resources.data.ExtGState : (this.resources.data.ExtGState = {})\n      },\n      patterns: {\n        get: () => this.resources.data.Pattern != null ? this.resources.data.Pattern : (this.resources.data.Pattern = {})\n      },\n      annotations: {\n        get: () => this.dictionary.data.Annots != null ? this.dictionary.data.Annots : (this.dictionary.data.Annots = [])\n      }\n    });\n  \n    // The page dictionary\n    this.dictionary = this.document.ref({\n      Type: 'Page',\n      Parent: this.document._root.data.Pages,\n      MediaBox: [0, 0, this.width, this.height],\n      Contents: this.content,\n      Resources: this.resources\n    });\n  }\n    \n  maxY() {\n    return this.height - this.margins.bottom;\n  }\n      \n  write(chunk) {\n    return this.content.write(chunk);\n  }\n\n  end() {\n    this.dictionary.end();\n    this.resources.end();\n    return this.content.end();\n  }\n};\n  \nexport default PDFPage;","import PDFObject from './object';\n\nconst {\n  number\n} = PDFObject;\n\nclass PDFGradient {\n  constructor(doc) {\n    this.doc = doc;\n    this.stops = [];\n    this.embedded = false;\n    this.transform = [1, 0, 0, 1, 0, 0];\n  }\n    \n  stop(pos, color, opacity) {\n    if (opacity == null) { opacity = 1; }\n    color = this.doc._normalizeColor(color);\n\n    if (this.stops.length === 0) {\n      if (color.length === 3) {\n        this._colorSpace = 'DeviceRGB';\n      } else if (color.length === 4) {\n        this._colorSpace = 'DeviceCMYK';\n      } else if (color.length === 1) {\n        this._colorSpace = 'DeviceGray';\n      } else {\n        throw new Error('Unknown color space');\n      }\n    } else if (((this._colorSpace === 'DeviceRGB') && (color.length !== 3)) ||\n            ((this._colorSpace === 'DeviceCMYK') && (color.length !== 4)) ||\n            ((this._colorSpace === 'DeviceGray') && (color.length !== 1))) {\n      throw new Error('All gradient stops must use the same color space');\n    }\n\n    opacity = Math.max(0, Math.min(1, opacity));\n    this.stops.push([pos, color, opacity]);\n    return this;\n  }\n\n  setTransform(m11, m12, m21, m22, dx, dy) {\n    this.transform = [m11, m12, m21, m22, dx, dy];\n    return this;\n  }\n\n  embed(m) {\n    let asc, i;\n    let end, fn;\n    if (this.stops.length === 0) { return; }\n    this.embedded = true;\n    this.matrix = m;\n    \n    // if the last stop comes before 100%, add a copy at 100%\n    const last = this.stops[this.stops.length - 1];\n    if (last[0] < 1) {\n      this.stops.push([1, last[1], last[2]]);\n    }\n    \n    const bounds = [];\n    const encode = [];\n    const stops = [];\n    \n    for (i = 0, end = this.stops.length - 1, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n      encode.push(0, 1);\n      if ((i + 2) !== this.stops.length) {\n        bounds.push(this.stops[i + 1][0]);\n      }\n      \n      fn = this.doc.ref({\n        FunctionType: 2,\n        Domain: [0, 1],\n        C0: this.stops[i + 0][1],\n        C1: this.stops[i + 1][1],\n        N: 1\n      });\n        \n      stops.push(fn);\n      fn.end();\n    }\n    \n    // if there are only two stops, we don't need a stitching function\n    if (stops.length === 1) {\n      fn = stops[0];\n    } else {\n      fn = this.doc.ref({\n        FunctionType: 3, // stitching function\n        Domain: [0, 1],\n        Functions: stops,\n        Bounds: bounds,\n        Encode: encode\n      });\n        \n      fn.end();\n    }\n        \n    this.id = `Sh${++this.doc._gradCount}`;\n    \n    const shader = this.shader(fn);\n    shader.end();\n    \n    const pattern = this.doc.ref({\n      Type: 'Pattern',\n      PatternType: 2,\n      Shading: shader,\n      Matrix: (this.matrix.map((v) => number(v)))\n    });\n\n    pattern.end();\n    \n    if (this.stops.some(stop => stop[2] < 1)) {\n      let grad = this.opacityGradient();\n      grad._colorSpace = 'DeviceGray';\n      \n      for (let stop of this.stops) {\n        grad.stop(stop[0], [stop[2]]);\n      }\n        \n      grad = grad.embed(this.matrix);\n      \n      const pageBBox = [0, 0, this.doc.page.width, this.doc.page.height];\n      \n      const form = this.doc.ref({\n        Type: 'XObject',\n        Subtype: 'Form',\n        FormType: 1,\n        BBox: pageBBox,\n        Group: {\n          Type: 'Group',\n          S: 'Transparency',\n          CS: 'DeviceGray'\n        },\n        Resources: {\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\n          Pattern: {\n            Sh1: grad\n          }\n        }\n      });\n      \n      form.write(\"/Pattern cs /Sh1 scn\");\n      form.end(`${pageBBox.join(\" \")} re f`);\n      \n      const gstate = this.doc.ref({\n        Type: 'ExtGState',\n        SMask: {\n          Type: 'Mask',\n          S: 'Luminosity',\n          G: form\n        }\n      });\n      \n      gstate.end();\n      \n      const opacityPattern = this.doc.ref({\n        Type: 'Pattern',\n        PatternType: 1,\n        PaintType: 1,\n        TilingType: 2,\n        BBox: pageBBox,\n        XStep: pageBBox[2],\n        YStep: pageBBox[3],\n        Resources: {\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\n          Pattern: {\n            Sh1: pattern\n          },\n          ExtGState: {\n            Gs1: gstate\n          }\n        }\n      });\n      \n      opacityPattern.write(\"/Gs1 gs /Pattern cs /Sh1 scn\");\n      opacityPattern.end(`${pageBBox.join(\" \")} re f`);\n      \n      this.doc.page.patterns[this.id] = opacityPattern;\n      \n    } else {\n      this.doc.page.patterns[this.id] = pattern;\n    }\n      \n    return pattern;\n  }\n\n  apply(op) {\n    // apply gradient transform to existing document ctm\n    const [m0, m1, m2, m3, m4, m5] = this.doc._ctm;\n    const [m11, m12, m21, m22, dx, dy] = this.transform;\n    const m = [(m0 * m11) + (m2 * m12),\n         (m1 * m11) + (m3 * m12),\n         (m0 * m21) + (m2 * m22),\n         (m1 * m21) + (m3 * m22),\n         (m0 * dx) + (m2 * dy) + m4,\n         (m1 * dx) + (m3 * dy) + m5];\n\n    if (!this.embedded || (m.join(\" \") !== this.matrix.join(\" \"))) { this.embed(m); }\n    return this.doc.addContent(`/${this.id} ${op}`);\n  }\n}\n\nclass PDFLinearGradient extends PDFGradient {\n  constructor(doc, x1, y1, x2, y2) {\n    super(doc);\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;    \n  }\n    \n  shader(fn) {\n    return this.doc.ref({\n      ShadingType: 2,\n      ColorSpace: this._colorSpace,\n      Coords: [this.x1, this.y1, this.x2, this.y2],\n      Function: fn,\n      Extend: [true, true]});\n  }\n      \n  opacityGradient() {\n    return new PDFLinearGradient(this.doc, this.x1, this.y1, this.x2, this.y2);\n  }\n}\n\nclass PDFRadialGradient extends PDFGradient {\n  constructor(doc, x1, y1, r1, x2, y2, r2) {\n    super(doc);\n    this.doc = doc;\n    this.x1 = x1;\n    this.y1 = y1;\n    this.r1 = r1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.r2 = r2;    \n  }\n    \n  shader(fn) {\n    return this.doc.ref({\n      ShadingType: 3,\n      ColorSpace: this._colorSpace,\n      Coords: [this.x1, this.y1, this.r1, this.x2, this.y2, this.r2],\n      Function: fn,\n      Extend: [true, true]});\n  }\n      \n  opacityGradient() {\n    return new PDFRadialGradient(this.doc, this.x1, this.y1, this.r1, this.x2, this.y2, this.r2);\n  }\n}\n\nexport default {PDFGradient, PDFLinearGradient, PDFRadialGradient};\n","import Gradient from '../gradient';\n\nconst {\n  PDFGradient,\n  PDFLinearGradient,\n  PDFRadialGradient\n} = Gradient;\n\nexport default {\n  initColor() {\n    // The opacity dictionaries\n    this._opacityRegistry = {};\n    this._opacityCount = 0;\n    return this._gradCount = 0;\n  },\n\n  _normalizeColor(color) {    \n    if (color instanceof PDFGradient) {\n      return color;\n    }\n\n    if (typeof color === 'string') {\n      if (color.charAt(0) === '#') {\n        if (color.length === 4) { color = color.replace(/#([0-9A-F])([0-9A-F])([0-9A-F])/i, \"#$1$1$2$2$3$3\"); }\n        const hex = parseInt(color.slice(1), 16);\n        color = [hex >> 16, (hex >> 8) & 0xff, hex & 0xff];\n\n      } else if (namedColors[color]) {\n        color = namedColors[color];\n      }\n    }\n\n    if (Array.isArray(color)) {      \n      // RGB\n      if (color.length === 3) {\n        color = color.map(part => part / 255);\n      // CMYK\n      } else if (color.length === 4) {\n        color = color.map(part => part / 100);\n      }\n      return color;\n    }\n\n    return null;\n  },\n\n  _setColor(color, stroke) {\n    color = this._normalizeColor(color);\n    if (!color) { return false; }\n\n    const op = stroke ? 'SCN' : 'scn';\n\n    if (color instanceof PDFGradient) {\n      this._setColorSpace('Pattern', stroke);\n      color.apply(op);\n    } else {\n      const space = color.length === 4 ? 'DeviceCMYK' : 'DeviceRGB';\n      this._setColorSpace(space, stroke);\n\n      color = color.join(' ');\n      this.addContent(`${color} ${op}`);\n    }\n\n    return true;\n  },\n\n  _setColorSpace(space, stroke) {\n    const op = stroke ? 'CS' : 'cs';\n    return this.addContent(`/${space} ${op}`);\n  },\n\n  fillColor(color, opacity) {\n    const set = this._setColor(color, false);\n    if (set) { this.fillOpacity(opacity); }\n\n    // save this for text wrapper, which needs to reset\n    // the fill color on new pages\n    this._fillColor = [color, opacity];\n    return this;\n  },\n\n  strokeColor(color, opacity) {\n    const set = this._setColor(color, true);\n    if (set) { this.strokeOpacity(opacity); }\n    return this;\n  },\n\n  opacity(opacity) {\n     this._doOpacity(opacity, opacity);\n     return this;\n   },\n\n  fillOpacity(opacity) {\n     this._doOpacity(opacity, null);\n     return this;\n   },\n\n  strokeOpacity(opacity) {\n     this._doOpacity(null, opacity);\n     return this;\n   },\n\n  _doOpacity(fillOpacity, strokeOpacity) {\n     let dictionary, name;\n     if ((fillOpacity == null) && (strokeOpacity == null)) { return; }\n\n     if (fillOpacity != null) { fillOpacity = Math.max(0, Math.min(1, fillOpacity)); }\n     if (strokeOpacity != null) { strokeOpacity = Math.max(0, Math.min(1, strokeOpacity)); }\n     const key = `${fillOpacity}_${strokeOpacity}`;\n\n     if (this._opacityRegistry[key]) {\n       [dictionary, name] = this._opacityRegistry[key];\n     } else {\n       dictionary =\n         {Type: 'ExtGState'};\n\n       if (fillOpacity != null) { dictionary.ca = fillOpacity; }\n       if (strokeOpacity != null) { dictionary.CA = strokeOpacity; }\n\n       dictionary = this.ref(dictionary);\n       dictionary.end();\n       const id = ++this._opacityCount;\n       name = `Gs${id}`;\n       this._opacityRegistry[key] = [dictionary, name];\n     }\n\n     this.page.ext_gstates[name] = dictionary;\n     return this.addContent(`/${name} gs`);\n   },\n\n  linearGradient(x1, y1, x2, y2) {\n    return new PDFLinearGradient(this, x1, y1, x2, y2);\n  },\n\n  radialGradient(x1, y1, r1, x2, y2, r2) {\n    return new PDFRadialGradient(this, x1, y1, r1, x2, y2, r2);\n  }\n};\n\nvar namedColors = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  grey: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50]\n};\n","let cx, cy, px, py, sx, sy;\n\ncx = cy = px = py = sx = sy = 0;\n\nconst parameters = {\n  A: 7,\n  a: 7,\n  C: 6,\n  c: 6,\n  H: 1,\n  h: 1,\n  L: 2,\n  l: 2,\n  M: 2,\n  m: 2,\n  Q: 4,\n  q: 4,\n  S: 4,\n  s: 4,\n  T: 2,\n  t: 2,\n  V: 1,\n  v: 1,\n  Z: 0,\n  z: 0\n};\n\nconst parse = function(path) {\n  let cmd;\n  const ret = [];\n  let args = [];\n  let curArg = \"\";\n  let foundDecimal = false;\n  let params = 0;\n\n  for (let c of path) {\n    if (parameters[c] != null) {\n      params = parameters[c];\n      if (cmd) { // save existing command\n        if (curArg.length > 0) { args[args.length] = +curArg; }\n        ret[ret.length] = {cmd,args};\n\n        args = [];\n        curArg = \"\";\n        foundDecimal = false;\n      }\n\n      cmd = c;\n\n    } else if ([\" \", \",\"].includes(c) || ((c === \"-\") && (curArg.length > 0) && (curArg[curArg.length - 1] !== 'e')) || ((c === \".\") && foundDecimal)) {\n      if (curArg.length === 0) { continue; }\n\n      if (args.length === params) { // handle reused commands\n        ret[ret.length] = {cmd,args};\n        args = [+curArg];\n\n        // handle assumed commands\n        if (cmd === \"M\") { cmd = \"L\"; }\n        if (cmd === \"m\") { cmd = \"l\"; }\n\n      } else {\n        args[args.length] = +curArg;\n      }\n\n      foundDecimal = (c === \".\");\n\n      // fix for negative numbers or repeated decimals with no delimeter between commands\n      curArg = ['-', '.'].includes(c) ? c : '';\n\n    } else {\n      curArg += c;\n      if (c === '.') { foundDecimal = true; }\n    }\n  }\n\n  // add the last command\n  if (curArg.length > 0) {\n    if (args.length === params) { // handle reused commands\n      ret[ret.length] = {cmd, args};\n      args = [+curArg];\n    \n      // handle assumed commands\n      if (cmd === \"M\") { cmd = \"L\"; }\n      if (cmd === \"m\") { cmd = \"l\"; }\n    } else {\n      args[args.length] = +curArg;\n    }\n  }\n  \n  ret[ret.length] = {cmd,args};\n\n  return ret;\n};\n\nconst apply = function(commands, doc) {\n  // current point, control point, and subpath starting point\n  cx = cy = px = py = sx = sy = 0;\n\n  // run the commands\n  for (let i = 0; i < commands.length; i++) {\n    const c = commands[i];\n    if (typeof runners[c.cmd] === 'function') {\n      runners[c.cmd](doc, c.args);\n    }\n  }    \n};\n\nconst runners = { \n  M(doc, a) {\n    cx = a[0];\n    cy = a[1];\n    px = (py = null);\n    sx = cx;\n    sy = cy;\n    return doc.moveTo(cx, cy);\n  },\n\n  m(doc, a) {\n    cx += a[0];\n    cy += a[1];\n    px = (py = null);\n    sx = cx;\n    sy = cy;\n    return doc.moveTo(cx, cy);\n  },\n\n  C(doc, a) {\n    cx = a[4];\n    cy = a[5];\n    px = a[2];\n    py = a[3];\n    return doc.bezierCurveTo(...(a || []));\n  },\n\n  c(doc, a) {\n    doc.bezierCurveTo(a[0] + cx, a[1] + cy, a[2] + cx, a[3] + cy, a[4] + cx, a[5] + cy);\n    px = cx + a[2];\n    py = cy + a[3];\n    cx += a[4];\n    return cy += a[5];\n  },\n\n  S(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    }\n\n    doc.bezierCurveTo(cx-(px-cx), cy-(py-cy), a[0], a[1], a[2], a[3]);\n    px = a[0];\n    py = a[1];\n    cx = a[2];\n    return cy = a[3];\n  },\n\n  s(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    }\n    \n    doc.bezierCurveTo(cx-(px-cx), cy-(py-cy), cx + a[0], cy + a[1], cx + a[2], cy + a[3]);\n    px = cx + a[0];\n    py = cy + a[1];\n    cx += a[2];\n    return cy += a[3];\n  },\n  \n  Q(doc, a) {\n    px = a[0];\n    py = a[1];\n    cx = a[2];\n    cy = a[3];\n    return doc.quadraticCurveTo(a[0], a[1], cx, cy);\n  },\n\n  q(doc, a) {\n    doc.quadraticCurveTo(a[0] + cx, a[1] + cy, a[2] + cx, a[3] + cy);\n    px = cx + a[0];\n    py = cy + a[1];\n    cx += a[2];\n    return cy += a[3];\n  },\n\n  T(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    } else { \n      px = cx-(px-cx);\n      py = cy-(py-cy);\n    }\n\n    doc.quadraticCurveTo(px, py, a[0], a[1]);\n    px = cx-(px-cx);\n    py = cy-(py-cy);\n    cx = a[0];\n    return cy = a[1];\n  },\n\n  t(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    } else {\n      px = cx-(px-cx);\n      py = cy-(py-cy);\n    }\n\n    doc.quadraticCurveTo(px, py, cx + a[0], cy + a[1]);\n    cx += a[0];\n    return cy += a[1];\n  },\n\n  A(doc, a) {\n    solveArc(doc, cx, cy, a);\n    cx = a[5];\n    return cy = a[6];\n  },\n\n  a(doc, a) {\n    a[5] += cx;\n    a[6] += cy;\n    solveArc(doc, cx, cy, a);\n    cx = a[5];\n    return cy = a[6];\n  },\n\n  L(doc, a) {\n    cx = a[0];\n    cy = a[1];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  l(doc, a) {\n    cx += a[0];\n    cy += a[1];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  H(doc, a) {\n    cx = a[0];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  h(doc, a) {\n    cx += a[0];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  V(doc, a) {\n    cy = a[0];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  v(doc, a) {\n    cy += a[0];\n    px = (py = null);\n    return doc.lineTo(cx, cy);\n  },\n\n  Z(doc) {\n    doc.closePath();\n    cx = sx;\n    return cy = sy;\n  },\n\n  z(doc) {\n    doc.closePath();\n    cx = sx;\n    return cy = sy;\n  }\n};\n\nconst solveArc = function(doc, x, y, coords) {\n  const [rx,ry,rot,large,sweep,ex,ey] = coords;\n  const segs = arcToSegments(ex, ey, rx, ry, large, sweep, rot, x, y);\n  \n  for (let seg of segs) {\n    const bez = segmentToBezier(...(seg || []));\n    doc.bezierCurveTo(...(bez || []));\n  } \n};\n\n// from Inkscape svgtopdf, thanks!\nconst arcToSegments = function(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\n  const th = rotateX * (Math.PI/180);\n  const sin_th = Math.sin(th);\n  const cos_th = Math.cos(th);\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  px = (cos_th * (ox - x) * 0.5) + (sin_th * (oy - y) * 0.5);\n  py = (cos_th * (oy - y) * 0.5) - (sin_th * (ox - x) * 0.5);\n  let pl = ((px*px) / (rx*rx)) + ((py*py) / (ry*ry));\n  if (pl > 1) {\n    pl = Math.sqrt(pl);\n    rx *= pl;\n    ry *= pl;\n  }\n\n  const a00 = cos_th / rx;\n  const a01 = sin_th / rx;\n  const a10 = (-sin_th) / ry;\n  const a11 = (cos_th) / ry;\n  const x0 = (a00 * ox) + (a01 * oy);\n  const y0 = (a10 * ox) + (a11 * oy);\n  const x1 = (a00 * x) + (a01 * y);\n  const y1 = (a10 * x) + (a11 * y);\n\n  const d = ((x1-x0) * (x1-x0)) + ((y1-y0) * (y1-y0));\n  let sfactor_sq = (1 / d) - 0.25;\n  if (sfactor_sq < 0) { sfactor_sq = 0; }\n  let sfactor = Math.sqrt(sfactor_sq);\n  if (sweep === large) { sfactor = -sfactor; }\n\n  const xc = (0.5 * (x0 + x1)) - (sfactor * (y1-y0));\n  const yc = (0.5 * (y0 + y1)) + (sfactor * (x1-x0));\n\n  const th0 = Math.atan2(y0-yc, x0-xc);\n  const th1 = Math.atan2(y1-yc, x1-xc);\n\n  let th_arc = th1-th0;\n  if ((th_arc < 0) && (sweep === 1)) {\n    th_arc += 2*Math.PI;\n  } else if ((th_arc > 0) && (sweep === 0)) {\n    th_arc -= 2 * Math.PI;\n  }\n\n  const segments = Math.ceil(Math.abs(th_arc / ((Math.PI * 0.5) + 0.001)));\n  const result = [];\n\n  for (let i = 0, end = segments, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n    const th2 = th0 + ((i * th_arc) / segments);\n    const th3 = th0 + (((i+1) * th_arc) / segments);\n    result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\n  }\n\n  return result;\n};\n\nconst segmentToBezier = function(cx, cy, th0, th1, rx, ry, sin_th, cos_th) {\n  const a00 = cos_th * rx;\n  const a01 = -sin_th * ry;\n  const a10 = sin_th * rx;\n  const a11 = cos_th * ry;\n\n  const th_half = 0.5 * (th1 - th0);\n  const t = ((8 / 3) * Math.sin(th_half * 0.5) * Math.sin(th_half * 0.5)) / Math.sin(th_half);\n  const x1 = (cx + Math.cos(th0)) - (t * Math.sin(th0));\n  const y1 = cy + Math.sin(th0) + (t * Math.cos(th0));\n  const x3 = cx + Math.cos(th1);\n  const y3 = cy + Math.sin(th1);\n  const x2 = x3 + (t * Math.sin(th1));\n  const y2 = y3 - (t * Math.cos(th1));\n\n  return [\n    (a00 * x1) + (a01 * y1),   (a10 * x1) + (a11 * y1),\n    (a00 * x2) + (a01 * y2),   (a10 * x2) + (a11 * y2),\n    (a00 * x3) + (a01 * y3),   (a10 * x3) + (a11 * y3)\n  ];\n};\n\nclass SVGPath {\n  static apply(doc, path) {\n    const commands = parse(path);\n    apply(commands, doc);\n  }\n};\n\nexport default SVGPath;\n","import SVGPath from '../path';\nimport PDFObject from '../object';\n\nconst {\n  number\n} = PDFObject;\n\n// This constant is used to approximate a symmetrical arc using a cubic\n// Bezier curve.\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\nexport default {\n  initVector() {\n    this._ctm = [1, 0, 0, 1, 0, 0]; // current transformation matrix\n    return this._ctmStack = [];\n  },\n\n  save() {\n    this._ctmStack.push(this._ctm.slice());\n    // TODO: save/restore colorspace and styles so not setting it unnessesarily all the time?\n    return this.addContent('q');\n  },\n\n  restore() {\n    this._ctm = this._ctmStack.pop() || [1, 0, 0, 1, 0, 0];\n    return this.addContent('Q');\n  },\n\n  closePath() {\n    return this.addContent('h');\n  },\n\n  lineWidth(w) {\n    return this.addContent(`${number(w)} w`);\n  },\n\n  _CAP_STYLES: {\n    BUTT: 0,\n    ROUND: 1,\n    SQUARE: 2\n  },\n\n  lineCap(c) {\n    if (typeof c === 'string') { c = this._CAP_STYLES[c.toUpperCase()]; }\n    return this.addContent(`${c} J`);\n  },\n\n  _JOIN_STYLES: {\n    MITER: 0,\n    ROUND: 1,\n    BEVEL: 2\n  },\n\n  lineJoin(j) {\n    if (typeof j === 'string') { j = this._JOIN_STYLES[j.toUpperCase()]; }\n    return this.addContent(`${j} j`);\n  },\n\n  miterLimit(m) {\n    return this.addContent(`${number(m)} M`);\n  },\n\n  dash(length, options) {\n    let phase;\n    if (options == null) { options = {}; }\n    if (length == null) { return this; }\n    if (Array.isArray(length)) {\n      length = length.map((v) => number(v)).join(' ');\n      phase = options.phase || 0;\n      return this.addContent(`[${length}] ${number(phase)} d`);\n    } else {\n      const space = options.space != null ? options.space : length;\n      phase = options.phase || 0;\n      return this.addContent(`[${number(length)} ${number(space)}] ${number(phase)} d`);\n    }\n  },\n\n  undash() {\n    return this.addContent(\"[] 0 d\");\n  },\n\n  moveTo(x, y) {\n    return this.addContent(`${number(x)} ${number(y)} m`);\n  },\n\n  lineTo(x, y) {\n    return this.addContent(`${number(x)} ${number(y)} l`);\n  },\n\n  bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n    return this.addContent(`${number(cp1x)} ${number(cp1y)} ${number(cp2x)} ${number(cp2y)} ${number(x)} ${number(y)} c`);\n  },\n\n  quadraticCurveTo(cpx, cpy, x, y) {\n    return this.addContent(`${number(cpx)} ${number(cpy)} ${number(x)} ${number(y)} v`);\n  },\n\n  rect(x, y, w, h) {\n    return this.addContent(`${number(x)} ${number(y)} ${number(w)} ${number(h)} re`);\n  },\n\n  roundedRect(x, y, w, h, r) {\n    if (r == null) { r = 0; }\n    r = Math.min(r, 0.5 * w, 0.5 * h);\n\n    // amount to inset control points from corners (see `ellipse`)\n    const c = r * (1.0 - KAPPA);\n\n    this.moveTo(x + r, y);\n    this.lineTo((x + w) - r, y);\n    this.bezierCurveTo((x + w) - c, y, x + w, y + c, x + w, y + r);\n    this.lineTo(x + w, (y + h) - r);\n    this.bezierCurveTo(x + w, (y + h) - c, (x + w) - c, y + h, (x + w) - r, y + h);\n    this.lineTo(x + r, y + h);\n    this.bezierCurveTo(x + c, y + h, x, (y + h) - c, x, (y + h) - r);\n    this.lineTo(x, y + r);\n    this.bezierCurveTo(x, y + c, x + c, y, x + r, y);\n    return this.closePath();\n  },\n\n  ellipse(x, y, r1, r2) {\n    // based on http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas/2173084#2173084\n    if (r2 == null) { r2 = r1; }\n    x -= r1;\n    y -= r2;\n    const ox = r1 * KAPPA;\n    const oy = r2 * KAPPA;\n    const xe = x + (r1 * 2);\n    const ye = y + (r2 * 2);\n    const xm = x + r1;\n    const ym = y + r2;\n\n    this.moveTo(x, ym);\n    this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n    return this.closePath();\n  },\n\n  circle(x, y, radius) {\n    return this.ellipse(x, y, radius);\n  },\n\n  arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n    if (anticlockwise == null) { anticlockwise = false; }\n    const TWO_PI = 2.0 * Math.PI;\n    const HALF_PI = 0.5 * Math.PI;\n\n    let deltaAng = endAngle - startAngle;\n\n    if (Math.abs(deltaAng) > TWO_PI) {\n      // draw only full circle if more than that is specified\n      deltaAng = TWO_PI;\n\n    } else if ((deltaAng !== 0) && (anticlockwise !== (deltaAng < 0))) {\n      // necessary to flip direction of rendering\n      const dir = anticlockwise ? -1 : 1;\n      deltaAng = (dir * TWO_PI) + deltaAng;\n    }\n\n    const numSegs = Math.ceil(Math.abs(deltaAng) / HALF_PI);\n    const segAng = deltaAng / numSegs;\n    const handleLen = (segAng / HALF_PI) * KAPPA * radius;\n    let curAng = startAngle;\n\n    // component distances between anchor point and control point\n    let deltaCx = -Math.sin(curAng) * handleLen;\n    let deltaCy = Math.cos(curAng) * handleLen;\n\n    // anchor point\n    let ax = x + (Math.cos(curAng) * radius);\n    let ay = y + (Math.sin(curAng) * radius);\n\n    // calculate and render segments\n    this.moveTo(ax, ay);\n\n    for (let segIdx = 0, end = numSegs, asc = 0 <= end; asc ? segIdx < end : segIdx > end; asc ? segIdx++ : segIdx--) {\n      // starting control point\n      const cp1x = ax + deltaCx;\n      const cp1y = ay + deltaCy;\n\n      // step angle\n      curAng += segAng;\n\n      // next anchor point\n      ax = x + (Math.cos(curAng) * radius);\n      ay = y + (Math.sin(curAng) * radius);\n\n      // next control point delta\n      deltaCx = -Math.sin(curAng) * handleLen;\n      deltaCy = Math.cos(curAng) * handleLen;\n\n      // ending control point\n      const cp2x = ax - deltaCx;\n      const cp2y = ay - deltaCy;\n\n      // render segment\n      this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, ax, ay);\n    }\n\n    return this;\n  },\n\n  polygon(...points) {\n    this.moveTo(...(points.shift() || []));\n    for (let point of points) { this.lineTo(...(point || [])); }\n    return this.closePath();\n  },\n\n  path(path) {\n    SVGPath.apply(this, path);\n    return this;\n  },\n\n  _windingRule(rule) {\n    if (/even-?odd/.test(rule)) {\n      return '*';\n    }\n\n    return '';\n  },\n\n  fill(color, rule) {\n    if (/(even-?odd)|(non-?zero)/.test(color)) {\n      rule = color;\n      color = null;\n    }\n\n    if (color) { this.fillColor(color); }\n    return this.addContent(`f${this._windingRule(rule)}`);\n  },\n\n  stroke(color) {\n    if (color) { this.strokeColor(color); }\n    return this.addContent('S');\n  },\n\n  fillAndStroke(fillColor, strokeColor, rule) {\n    if (strokeColor == null) { strokeColor = fillColor; }\n    const isFillRule = /(even-?odd)|(non-?zero)/;\n    if (isFillRule.test(fillColor)) {\n      rule = fillColor;\n      fillColor = null;\n    }\n\n    if (isFillRule.test(strokeColor)) {\n      rule = strokeColor;\n      strokeColor = fillColor;\n    }\n\n    if (fillColor) {\n      this.fillColor(fillColor);\n      this.strokeColor(strokeColor);\n    }\n\n    return this.addContent(`B${this._windingRule(rule)}`);\n  },\n\n  clip(rule) {\n    return this.addContent(`W${this._windingRule(rule)} n`);\n  },\n\n  transform(m11, m12, m21, m22, dx, dy) {\n    // keep track of the current transformation matrix\n    const m = this._ctm;\n    const [m0, m1, m2, m3, m4, m5] = m;\n    m[0] = (m0 * m11) + (m2 * m12);\n    m[1] = (m1 * m11) + (m3 * m12);\n    m[2] = (m0 * m21) + (m2 * m22);\n    m[3] = (m1 * m21) + (m3 * m22);\n    m[4] = (m0 * dx) + (m2 * dy) + m4;\n    m[5] = (m1 * dx) + (m3 * dy) + m5;\n\n    const values = ([m11, m12, m21, m22, dx, dy].map((v) => number(v))).join(' ');\n    return this.addContent(`${values} cm`);\n  },\n\n  translate(x, y) {\n    return this.transform(1, 0, 0, 1, x, y);\n  },\n\n  rotate(angle, options) {\n    let y;\n    if (options == null) { options = {}; }\n    const rad = (angle * Math.PI) / 180;\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    let x = (y = 0);\n\n    if (options.origin != null) {\n      [x, y] = options.origin;\n      const x1 = (x * cos) - (y * sin);\n      const y1 = (x * sin) + (y * cos);\n      x -= x1;\n      y -= y1;\n    }\n\n    return this.transform(cos, sin, -sin, cos, x, y);\n  },\n\n  scale(xFactor, yFactor, options) {\n    let y;\n    if (yFactor == null) { yFactor = xFactor; }\n    if (options == null) { options = {}; }\n    if (typeof yFactor === \"object\") {\n      options = yFactor;\n      yFactor = xFactor;\n    }\n\n    let x = (y = 0);\n    if (options.origin != null) {\n      [x, y] = options.origin;\n      x -= xFactor * x;\n      y -= yFactor * y;\n    }\n\n    return this.transform(xFactor, 0, 0, yFactor, x, y);\n  }\n};\n","import fs from 'fs';\n\nconst WIN_ANSI_MAP = {\n  402:  131,\n  8211: 150,\n  8212: 151,\n  8216: 145,\n  8217: 146,\n  8218: 130,\n  8220: 147,\n  8221: 148,\n  8222: 132,\n  8224: 134,\n  8225: 135,\n  8226: 149,\n  8230: 133,\n  8364: 128,\n  8240: 137,\n  8249: 139,\n  8250: 155,\n  710:  136,\n  8482: 153,\n  338:  140,\n  339:  156,\n  732:  152,\n  352:  138,\n  353:  154,\n  376:  159,\n  381:  142,\n  382:  158\n};\n\nconst characters = `\\\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n  \nspace         exclam         quotedbl       numbersign\ndollar        percent        ampersand      quotesingle\nparenleft     parenright     asterisk       plus\ncomma         hyphen         period         slash\nzero          one            two            three\nfour          five           six            seven\neight         nine           colon          semicolon\nless          equal          greater        question\n  \nat            A              B              C\nD             E              F              G\nH             I              J              K\nL             M              N              O\nP             Q              R              S\nT             U              V              W\nX             Y              Z              bracketleft\nbackslash     bracketright   asciicircum    underscore\n  \ngrave         a              b              c\nd             e              f              g\nh             i              j              k\nl             m              n              o\np             q              r              s\nt             u              v              w\nx             y              z              braceleft\nbar           braceright     asciitilde     .notdef\n  \nEuro          .notdef        quotesinglbase florin\nquotedblbase  ellipsis       dagger         daggerdbl\ncircumflex    perthousand    Scaron         guilsinglleft\nOE            .notdef        Zcaron         .notdef\n.notdef       quoteleft      quoteright     quotedblleft\nquotedblright bullet         endash         emdash\ntilde         trademark      scaron         guilsinglright\noe            .notdef        zcaron         ydieresis\n  \nspace         exclamdown     cent           sterling\ncurrency      yen            brokenbar      section\ndieresis      copyright      ordfeminine    guillemotleft\nlogicalnot    hyphen         registered     macron\ndegree        plusminus      twosuperior    threesuperior\nacute         mu             paragraph      periodcentered\ncedilla       onesuperior    ordmasculine   guillemotright\nonequarter    onehalf        threequarters  questiondown\n  \nAgrave        Aacute         Acircumflex    Atilde\nAdieresis     Aring          AE             Ccedilla\nEgrave        Eacute         Ecircumflex    Edieresis\nIgrave        Iacute         Icircumflex    Idieresis\nEth           Ntilde         Ograve         Oacute\nOcircumflex   Otilde         Odieresis      multiply\nOslash        Ugrave         Uacute         Ucircumflex\nUdieresis     Yacute         Thorn          germandbls\n  \nagrave        aacute         acircumflex    atilde\nadieresis     aring          ae             ccedilla\negrave        eacute         ecircumflex    edieresis\nigrave        iacute         icircumflex    idieresis\neth           ntilde         ograve         oacute\nocircumflex   otilde         odieresis      divide\noslash        ugrave         uacute         ucircumflex\nudieresis     yacute         thorn          ydieresis\\\n`.split(/\\s+/);\n\n\nclass AFMFont {    \n  static open(filename) {\n    return new AFMFont(fs.readFileSync(filename, 'utf8'));\n  }\n\n  constructor(contents) {\n    this.contents = contents;\n    this.attributes = {};\n    this.glyphWidths = {};\n    this.boundingBoxes = {};\n    this.kernPairs = {};\n  \n    this.parse();\n    // todo: remove charWidths since appears to not be used\n    this.charWidths = new Array(256);    \n    for (let char = 0; char <= 255; char++) {\n      this.charWidths[char] = this.glyphWidths[characters[char]];\n    } \n  \n    this.bbox = (this.attributes['FontBBox'].split(/\\s+/).map((e) => +e));\n    this.ascender = +(this.attributes['Ascender'] || 0);\n    this.descender = +(this.attributes['Descender'] || 0);\n    this.xHeight = +(this.attributes['XHeight'] || 0);\n    this.capHeight = +(this.attributes['CapHeight'] || 0);\n    this.lineGap = (this.bbox[3] - this.bbox[1]) - (this.ascender - this.descender);\n  }\n\n  parse() {\n    let section = '';\n    for (let line of this.contents.split('\\n')) {\n      var match;\n      var a;\n      if (match = line.match(/^Start(\\w+)/)) {\n        section = match[1];\n        continue;\n      \n      } else if (match = line.match(/^End(\\w+)/)) {\n        section = '';\n        continue;\n      }\n      \n      switch (section) {\n        case 'FontMetrics':\n          match = line.match(/(^\\w+)\\s+(.*)/);\n          var key = match[1];\n          var value = match[2];\n        \n          if (a = this.attributes[key]) {\n            if (!Array.isArray(a)) { a = (this.attributes[key] = [a]); }\n            a.push(value);\n          } else {\n            this.attributes[key] = value;\n          }\n          break;\n        \n        case 'CharMetrics':\n          if (!/^CH?\\s/.test(line)) { continue; }\n          var name = line.match(/\\bN\\s+(\\.?\\w+)\\s*;/)[1];\n          this.glyphWidths[name] = +line.match(/\\bWX\\s+(\\d+)\\s*;/)[1];\n          break;\n        \n        case 'KernPairs':\n          match = line.match(/^KPX\\s+(\\.?\\w+)\\s+(\\.?\\w+)\\s+(-?\\d+)/);\n          if (match) {\n            this.kernPairs[match[1] + '\\0' + match[2]] = parseInt(match[3]);\n          }\n          break;\n      }\n    }\n        \n  }\n\n  encodeText(text) {\n    const res = [];\n    for (let i = 0, end = text.length, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n      let char = text.charCodeAt(i);\n      char = WIN_ANSI_MAP[char] || char;\n      res.push(char.toString(16));\n    }\n  \n    return res;\n  }\n  \n  glyphsForString(string) {\n    const glyphs = [];\n  \n    for (let i = 0, end = string.length, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n      const charCode = string.charCodeAt(i);        \n      glyphs.push(this.characterToGlyph(charCode));\n    }\n    \n    return glyphs;\n  }\n        \n  characterToGlyph(character) {\n    return characters[WIN_ANSI_MAP[character] || character] || '.notdef';\n  }\n        \n  widthOfGlyph(glyph) {\n    return this.glyphWidths[glyph] || 0;\n  }\n  \n  getKernPair(left, right) {\n    return this.kernPairs[left + '\\0' + right] || 0;\n  }\n  \n  advancesForGlyphs(glyphs) {\n    const advances = [];\n  \n    for (let index = 0; index < glyphs.length; index++) {\n      const left = glyphs[index];\n      const right = glyphs[index + 1];\n      advances.push(this.widthOfGlyph(left) + this.getKernPair(left, right));\n    }\n    \n    return advances;\n  }\n};\n      \nexport default AFMFont;","class PDFFont {    \n  constructor() {\n  }\n    \n  encode() {\n    throw new Error('Must be implemented by subclasses');\n  }\n      \n  widthOfString() {\n    throw new Error('Must be implemented by subclasses');\n  }\n    \n  ref() {\n    return this.dictionary != null ? this.dictionary : (this.dictionary = this.document.ref());\n  }\n    \n  finalize() {\n    if (this.embedded || (this.dictionary == null)) { return; }\n\n    this.embed();\n    return this.embedded = true;\n  }\n    \n  embed() {\n    throw new Error('Must be implemented by subclasses');\n  }\n      \n  lineHeight(size, includeGap) {\n    if (includeGap == null) { includeGap = false; }\n    const gap = includeGap ? this.lineGap : 0;\n    return (((this.ascender + gap) - this.descender) / 1000) * size;\n  }\n}\n  \nexport default PDFFont;\n","import AFMFont from './afm';\nimport PDFFont from '../font';\nimport fs from 'fs';\n\n// This insanity is so bundlers can inline the font files\nconst STANDARD_FONTS = {\n  \"Courier\"() { return fs.readFileSync(__dirname + \"/font/data/Courier.afm\", 'utf8'); },\n  \"Courier-Bold\"() { return fs.readFileSync(__dirname + \"/font/data/Courier-Bold.afm\", 'utf8'); },\n  \"Courier-Oblique\"() { return fs.readFileSync(__dirname + \"/font/data/Courier-Oblique.afm\", 'utf8'); },\n  \"Courier-BoldOblique\"() { return fs.readFileSync(__dirname + \"/font/data/Courier-BoldOblique.afm\", 'utf8'); },\n  \"Helvetica\"() { return fs.readFileSync(__dirname + \"/font/data/Helvetica.afm\", 'utf8'); },\n  \"Helvetica-Bold\"() { return fs.readFileSync(__dirname + \"/font/data/Helvetica-Bold.afm\", 'utf8'); },\n  \"Helvetica-Oblique\"() { return fs.readFileSync(__dirname + \"/font/data/Helvetica-Oblique.afm\", 'utf8'); },\n  \"Helvetica-BoldOblique\"() { return fs.readFileSync(__dirname + \"/font/data/Helvetica-BoldOblique.afm\", 'utf8'); },\n  \"Times-Roman\"() { return fs.readFileSync(__dirname + \"/font/data/Times-Roman.afm\", 'utf8'); },\n  \"Times-Bold\"() { return fs.readFileSync(__dirname + \"/font/data/Times-Bold.afm\", 'utf8'); },\n  \"Times-Italic\"() { return fs.readFileSync(__dirname + \"/font/data/Times-Italic.afm\", 'utf8'); },\n  \"Times-BoldItalic\"() { return fs.readFileSync(__dirname + \"/font/data/Times-BoldItalic.afm\", 'utf8'); },\n  \"Symbol\"() { return fs.readFileSync(__dirname + \"/font/data/Symbol.afm\", 'utf8'); },\n  \"ZapfDingbats\"() { return fs.readFileSync(__dirname + \"/font/data/ZapfDingbats.afm\", 'utf8'); }\n};\n\nclass StandardFont extends PDFFont {\n  constructor(document, name, id) {\n    super();\n    this.document = document;\n    this.name = name;\n    this.id = id;\n    this.font = new AFMFont(STANDARD_FONTS[this.name]());\n    ({ascender: this.ascender,descender: this.descender,bbox: this.bbox,lineGap: this.lineGap,xHeight: this.xHeight,capHeight: this.capHeight} = this.font);\n  }\n  \n  embed() {\n    this.dictionary.data = {\n      Type: 'Font',\n      BaseFont: this.name,\n      Subtype: 'Type1',\n      Encoding: 'WinAnsiEncoding'\n    };\n    \n    return this.dictionary.end();\n  }\n  \n  encode(text) {\n    const encoded = this.font.encodeText(text);\n    const glyphs = this.font.glyphsForString(`${text}`);\n    const advances = this.font.advancesForGlyphs(glyphs);\n    const positions = [];\n    for (let i = 0; i < glyphs.length; i++) {\n      const glyph = glyphs[i];\n      positions.push({\n        xAdvance: advances[i],\n        yAdvance: 0,\n        xOffset: 0,\n        yOffset: 0,\n        advanceWidth: this.font.widthOfGlyph(glyph)\n      });\n    }\n    \n    return [encoded, positions];\n  }\n  \n  widthOfString(string, size) {\n    const glyphs = this.font.glyphsForString(`${string}`);\n    const advances = this.font.advancesForGlyphs(glyphs);\n  \n    let width = 0;\n    for (let advance of advances) {\n      width += advance;\n    }\n  \n    const scale = size / 1000;  \n    return width * scale;\n  }\n  \n  static isStandardFont(name) {\n    return name in STANDARD_FONTS;\n  }\n};\n\n  \nexport default StandardFont;\n","import PDFFont from '../font';\n\nconst toHex = function(num) {\n  return (`0000${num.toString(16)}`).slice(-4);\n};\n\nclass EmbeddedFont extends PDFFont {    \n    constructor(document, font, id) {\n      super();\n      this.document = document;\n      this.font = font;\n      this.id = id;\n      this.subset = this.font.createSubset();\n      this.unicode = [[0]];\n      this.widths = [this.font.getGlyph(0).advanceWidth];\n\n      this.name = this.font.postscriptName;\n      this.scale = 1000 / this.font.unitsPerEm;\n      this.ascender = this.font.ascent * this.scale;\n      this.descender = this.font.descent * this.scale;\n      this.xHeight = this.font.xHeight * this.scale;\n      this.capHeight = this.font.capHeight * this.scale;\n      this.lineGap = this.font.lineGap * this.scale;\n      this.bbox = this.font.bbox;\n\n      this.layoutCache = Object.create(null);\n    }\n\n    layoutRun(text, features) {\n      const run = this.font.layout(text, features);\n\n      // Normalize position values\n      for (let i = 0; i < run.positions.length; i++) {\n        const position = run.positions[i];\n        for (let key in position) {\n          position[key] *= this.scale;\n        }\n\n        position.advanceWidth = run.glyphs[i].advanceWidth * this.scale;\n      }\n\n      return run;\n    }\n\n    layoutCached(text) {\n      let cached;\n      if (cached = this.layoutCache[text]) {\n        return cached;\n      }\n\n      const run = this.layoutRun(text);\n      this.layoutCache[text] = run;\n      return run;\n    }\n\n    layout(text, features, onlyWidth) {\n      // Skip the cache if any user defined features are applied\n      if (onlyWidth == null) { onlyWidth = false; }\n      if (features) {\n        return this.layoutRun(text, features);\n      }\n\n      const glyphs = onlyWidth ? null : [];\n      const positions = onlyWidth ? null : [];\n      let advanceWidth = 0;\n\n      // Split the string by words to increase cache efficiency.\n      // For this purpose, spaces and tabs are a good enough delimeter.\n      let last = 0;\n      let index = 0;\n      while (index <= text.length) {\n        var needle;\n        if (((index === text.length) && (last < index)) || (needle = text.charAt(index), [' ', '\\t'].includes(needle))) {\n          const run = this.layoutCached(text.slice(last, ++index));\n          if (!onlyWidth) {\n            glyphs.push(...(run.glyphs || []));\n            positions.push(...(run.positions || []));\n          }\n\n          advanceWidth += run.advanceWidth;\n          last = index;\n        } else {\n          index++;\n        }\n      }\n\n      return {glyphs, positions, advanceWidth};\n    }\n\n    encode(text, features) {\n      const {glyphs, positions} = this.layout(text, features);\n\n      const res = [];\n      for (let i = 0; i < glyphs.length; i++) {\n        const glyph = glyphs[i];\n        const gid = this.subset.includeGlyph(glyph.id);\n        res.push((`0000${gid.toString(16)}`).slice(-4));\n\n        if (this.widths[gid] == null) { this.widths[gid] = glyph.advanceWidth * this.scale; }\n        if (this.unicode[gid] == null) { this.unicode[gid] = glyph.codePoints; }\n      }\n\n      return [res, positions];\n    }\n\n    widthOfString(string, size, features) {\n      const width = this.layout(string, features, true).advanceWidth;\n      const scale = size / 1000;\n      return width * scale;\n    }\n\n    embed() {\n      const isCFF = (this.subset.cff != null);\n      const fontFile = this.document.ref();\n\n      if (isCFF) {\n        fontFile.data.Subtype = 'CIDFontType0C';\n      }\n\n      this.subset.encodeStream()\n        .on('data', data => fontFile.write(data)).on('end', () => fontFile.end());\n\n      const familyClass = ((this.font['OS/2'] != null ? this.font['OS/2'].sFamilyClass : undefined) || 0) >> 8;\n      let flags = 0;\n      if (this.font.post.isFixedPitch) { flags |= 1 << 0; }\n      if (1 <= familyClass && familyClass <= 7) { flags |= 1 << 1; }\n      flags |= 1 << 2; // assume the font uses non-latin characters\n      if (familyClass === 10) { flags |= 1 << 3; }\n      if (this.font.head.macStyle.italic) { flags |= 1 << 6; }\n\n      // generate a tag (6 uppercase letters. 16 is the char code offset from '1' to 'A'. 74 will map to 'Z')\n      const tag = ([1, 2, 3, 4, 5, 6].map((i) => String.fromCharCode((this.id.charCodeAt(i) || 74) + 16))).join('');\n      const name = tag + '+' + this.font.postscriptName;\n\n      const { bbox } = this.font;\n      const descriptor = this.document.ref({\n        Type: 'FontDescriptor',\n        FontName: name,\n        Flags: flags,\n        FontBBox: [bbox.minX * this.scale, bbox.minY * this.scale, bbox.maxX * this.scale, bbox.maxY * this.scale],\n        ItalicAngle: this.font.italicAngle,\n        Ascent: this.ascender,\n        Descent: this.descender,\n        CapHeight: (this.font.capHeight || this.font.ascent) * this.scale,\n        XHeight: (this.font.xHeight || 0) * this.scale,\n        StemV: 0\n      }); // not sure how to calculate this\n\n      if (isCFF) {\n        descriptor.data.FontFile3 = fontFile;\n      } else {\n        descriptor.data.FontFile2 = fontFile;\n      }\n\n      descriptor.end();\n\n      const descendantFont = this.document.ref({\n        Type: 'Font',\n        Subtype: isCFF ? 'CIDFontType0' : 'CIDFontType2',\n        BaseFont: name,\n        CIDSystemInfo: {\n          Registry: new String('Adobe'),\n          Ordering: new String('Identity'),\n          Supplement: 0\n        },\n        FontDescriptor: descriptor,\n        W: [0, this.widths]});\n\n      descendantFont.end();\n\n      this.dictionary.data = {\n        Type: 'Font',\n        Subtype: 'Type0',\n        BaseFont: name,\n        Encoding: 'Identity-H',\n        DescendantFonts: [descendantFont],\n        ToUnicode: this.toUnicodeCmap()\n      };\n\n      return this.dictionary.end();\n    }\n\n    // Maps the glyph ids encoded in the PDF back to unicode strings\n    // Because of ligature substitutions and the like, there may be one or more\n    // unicode characters represented by each glyph.\n    toUnicodeCmap() {\n      const cmap = this.document.ref();\n\n      const entries = [];\n      for (let codePoints of this.unicode) {\n        const encoded = [];\n\n        // encode codePoints to utf16\n        for (let value of codePoints) {\n          if (value > 0xffff) {\n            value -= 0x10000;\n            encoded.push(toHex(((value >>> 10) & 0x3ff) | 0xd800));\n            value = 0xdc00 | (value & 0x3ff);\n          }\n\n          encoded.push(toHex(value));\n        }\n\n        entries.push(`<${encoded.join(' ')}>`);\n      }\n\n      cmap.end(`\\\n/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n1 beginbfrange\n<0000> <${toHex(entries.length - 1)}> [${entries.join(' ')}]\nendbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend\\\n`\n      );\n\n      return cmap;\n    }\n  };\n  \n\nexport default EmbeddedFont;\n","import fontkit from 'fontkit';\nimport StandardFont from './font/standard';\nimport EmbeddedFont from './font/embedded';\n\nclass PDFFontFactory {\n  static open(document, src, family, id) {\n    let font;\n    if (typeof src === 'string') {\n      if (StandardFont.isStandardFont(src)) {\n        return new StandardFont(document, src, id);\n      }\n        \n      font = fontkit.openSync(src, family);\n                \n    } else if (Buffer.isBuffer(src)) {\n      font = fontkit.create(src, family);\n      \n    } else if (src instanceof Uint8Array) {\n      font = fontkit.create(new Buffer(src), family);\n      \n    } else if (src instanceof ArrayBuffer) {\n      font = fontkit.create(new Buffer(new Uint8Array(src)), family);\n    }\n      \n    if ((font == null)) {\n      throw new Error('Not a supported font format or standard PDF font.');\n    }\n      \n    return new EmbeddedFont(document, font, id);\n  }\n}\n\n      \nexport default PDFFontFactory;\n","import PDFFontFactory from '../font_factory';\n\nexport default {\n  initFonts() {\n    // Lookup table for embedded fonts\n    this._fontFamilies = {};\n    this._fontCount = 0;\n\n    // Font state\n    this._fontSize = 12;\n    this._font = null;\n\n    this._registeredFonts = {};\n\n    // Set the default font\n    return this.font('Helvetica');\n  },\n\n  font(src, family, size) {\n    let cacheKey, font;\n    if (typeof family === 'number') {\n      size = family;\n      family = null;\n    }\n\n    // check registered fonts if src is a string\n    if ((typeof src === 'string') && this._registeredFonts[src]) {\n      cacheKey = src;\n      ({src, family} = this._registeredFonts[src]);\n    } else {\n      cacheKey = family || src;\n      if (typeof cacheKey !== 'string') { cacheKey = null; }\n    }\n\n    if (size != null) { this.fontSize(size); }\n\n    // fast path: check if the font is already in the PDF\n    if (font = this._fontFamilies[cacheKey]) {\n      this._font = font;\n      return this;\n    }\n\n    // load the font\n    const id = `F${++this._fontCount}`;\n    this._font = PDFFontFactory.open(this, src, family, id);\n\n    // check for existing font familes with the same name already in the PDF\n    // useful if the font was passed as a buffer\n    if (font = this._fontFamilies[this._font.name]) {\n      this._font = font;\n      return this;\n    }\n\n    // save the font for reuse later\n    if (cacheKey) {\n      this._fontFamilies[cacheKey] = this._font;\n    }\n\n    if (this._font.name) {\n      this._fontFamilies[this._font.name] = this._font;\n    }\n\n    return this;\n  },\n\n  fontSize(_fontSize) {\n    this._fontSize = _fontSize;\n    return this;\n  },\n\n  currentLineHeight(includeGap) {\n    if (includeGap == null) { includeGap = false; }\n    return this._font.lineHeight(this._fontSize, includeGap);\n  },\n\n  registerFont(name, src, family) {\n    this._registeredFonts[name] = {\n      src,\n      family\n    };\n\n    return this;\n  }\n};\n","import { EventEmitter } from 'events';\nimport LineBreaker from 'linebreak';\n\nclass LineWrapper extends EventEmitter {\n  constructor(document, options) {\n    super();\n    this.document = document;\n    this.indent    = options.indent || 0;\n    this.characterSpacing = options.characterSpacing || 0;\n    this.wordSpacing = options.wordSpacing === 0;\n    this.columns   = options.columns || 1;\n    this.columnGap   = options.columnGap != null ? options.columnGap : 18; // 1/4 inch\n    this.lineWidth   = (options.width - (this.columnGap * (this.columns - 1))) / this.columns;\n    this.spaceLeft = this.lineWidth;\n    this.startX    = this.document.x;\n    this.startY    = this.document.y;\n    this.column    = 1;\n    this.ellipsis  = options.ellipsis;\n    this.continuedX  = 0;\n    this.features = options.features;\n    \n    // calculate the maximum Y position the text can appear at\n    if (options.height != null) {\n      this.height = options.height;\n      this.maxY = this.startY + options.height;\n    } else {\n      this.maxY = this.document.page.maxY();\n    }\n    \n    // handle paragraph indents\n    this.on('firstLine', options => {\n      // if this is the first line of the text segment, and\n      // we're continuing where we left off, indent that much\n      // otherwise use the user specified indent option\n      const indent = this.continuedX || this.indent;\n      this.document.x += indent;\n      this.lineWidth -= indent;\n      \n      return this.once('line', () => {\n        this.document.x -= indent;\n        this.lineWidth += indent;\n        if (options.continued && !this.continuedX) {\n          this.continuedX = this.indent;\n        }\n        if (!options.continued) { return this.continuedX = 0; }\n      });\n    });\n    \n    // handle left aligning last lines of paragraphs\n    this.on('lastLine', options => {\n      const { align } = options;\n      if (align === 'justify') { options.align = 'left'; }\n      this.lastLine = true;\n      \n      return this.once('line', () => {\n        this.document.y += options.paragraphGap || 0;\n        options.align = align;\n        return this.lastLine = false;\n      });\n    });\n  }\n        \n  wordWidth(word) {\n    return this.document.widthOfString(word, this) + this.characterSpacing + this.wordSpacing;\n  }\n        \n  eachWord(text, fn) {\n    // setup a unicode line breaker\n    let bk;\n    const breaker = new LineBreaker(text);\n    let last = null;\n    const wordWidths = Object.create(null);\n    \n    while ((bk = breaker.nextBreak())) {\n      var shouldContinue;\n      let word = text.slice((last != null ? last.position : undefined) || 0, bk.position);\n      let w = wordWidths[word] != null ? wordWidths[word] : (wordWidths[word] = this.wordWidth(word));\n\n      // if the word is longer than the whole line, chop it up\n      // TODO: break by grapheme clusters, not JS string characters\n      if (w > (this.lineWidth + this.continuedX)) {\n        // make some fake break objects\n        let lbk = last;\n        const fbk = {};\n\n        while (word.length) {\n          // fit as much of the word as possible into the space we have\n          var l, mightGrow;\n          if (w > this.spaceLeft) {\n            // start our check at the end of our available space - this method is faster than a loop of each character and it resolves\n            // an issue with long loops when processing massive words, such as a huge number of spaces\n            l = Math.ceil(this.spaceLeft / (w / word.length));\n            w = this.wordWidth(word.slice(0, l));\n            mightGrow = (w <= this.spaceLeft) && (l < word.length);\n          } else {\n            l = word.length;\n          }\n          let mustShrink = (w > this.spaceLeft) && (l > 0);\n          // shrink or grow word as necessary after our near-guess above\n          while (mustShrink || mightGrow) {\n            if (mustShrink) {\n              w = this.wordWidth(word.slice(0, --l));\n              mustShrink = (w > this.spaceLeft) && (l > 0);\n            } else {\n              w = this.wordWidth(word.slice(0, ++l));\n              mustShrink = (w > this.spaceLeft) && (l > 0);\n              mightGrow = (w <= this.spaceLeft) && (l < word.length);\n            }\n          }\n            \n          // send a required break unless this is the last piece and a linebreak is not specified\n          fbk.required = bk.required || (l < word.length);\n          shouldContinue = fn(word.slice(0, l), w, fbk, lbk);\n          lbk = {required: false};\n          \n          // get the remaining piece of the word\n          word = word.slice(l);\n          w = this.wordWidth(word);\n          \n          if (shouldContinue === false) { break; }\n        }\n      } else {\n        // otherwise just emit the break as it was given to us\n        shouldContinue = fn(word, w, bk, last);\n      }\n        \n      if (shouldContinue === false) { break; }\n      last = bk;\n    }\n      \n  }\n    \n  wrap(text, options) {\n    // override options from previous continued fragments\n    if (options.indent != null) { this.indent    = options.indent; }\n    if (options.characterSpacing != null) { this.characterSpacing = options.characterSpacing; }\n    if (options.wordSpacing != null) { this.wordSpacing = options.wordSpacing; }\n    if (options.ellipsis != null) { this.ellipsis  = options.ellipsis; }\n    \n    // make sure we're actually on the page \n    // and that the first line of is never by \n    // itself at the bottom of a page (orphans)\n    const nextY = this.document.y + this.document.currentLineHeight(true);\n    if ((this.document.y > this.maxY) || (nextY > this.maxY)) {\n      this.nextSection();\n    }\n        \n    let buffer = '';\n    let textWidth = 0;\n    let wc = 0;\n    let lc = 0;\n    \n    let { y } = this.document; // used to reset Y pos if options.continued (below)\n    const emitLine = () => {\n      options.textWidth = textWidth + (this.wordSpacing * (wc - 1));\n      options.wordCount = wc;\n      options.lineWidth = this.lineWidth;\n      ({ y } = this.document);\n      this.emit('line', buffer, options, this);\n      return lc++;\n    };\n      \n    this.emit('sectionStart', options, this);\n    \n    this.eachWord(text, (word, w, bk, last) => {\n      if ((last == null) || last.required) {\n        this.emit('firstLine', options, this);\n        this.spaceLeft = this.lineWidth;\n      }\n      \n      if (w <= this.spaceLeft) {\n        buffer += word;\n        textWidth += w;\n        wc++;\n      }\n              \n      if (bk.required || (w > this.spaceLeft)) {\n        // if the user specified a max height and an ellipsis, and is about to pass the\n        // max height and max columns after the next line, append the ellipsis\n        const lh = this.document.currentLineHeight(true);\n        if ((this.height != null) && this.ellipsis && ((this.document.y + (lh * 2)) > this.maxY) && (this.column >= this.columns)) {\n          if (this.ellipsis === true) { this.ellipsis = '…'; } // map default ellipsis character\n          buffer = buffer.replace(/\\s+$/, '');\n          textWidth = this.wordWidth(buffer + this.ellipsis);\n          \n          // remove characters from the buffer until the ellipsis fits\n          // to avoid inifinite loop need to stop while-loop if buffer is empty string\n          while (buffer && (textWidth > this.lineWidth)) {\n            buffer = buffer.slice(0, -1).replace(/\\s+$/, '');\n            textWidth = this.wordWidth(buffer + this.ellipsis);\n          }\n          // need to add ellipsis only if there is enough space for it\n          if (textWidth <= this.lineWidth) {\n            buffer = buffer + this.ellipsis;\n          }\n\n          textWidth = this.wordWidth(buffer);\n        }\n\n        if (bk.required) {\n          if (w > this.spaceLeft) {\n            emitLine();\n            buffer = word;\n            textWidth = w;\n            wc = 1;\n          }\n\n          this.emit('lastLine', options, this);\n        }\n\n        emitLine();\n        \n        // if we've reached the edge of the page, \n        // continue on a new page or column\n        if ((this.document.y + lh) > this.maxY) {\n          const shouldContinue = this.nextSection();\n          \n          // stop if we reached the maximum height\n          if (!shouldContinue) {\n            wc = 0;\n            buffer = '';\n            return false;\n          }\n        }\n        \n        // reset the space left and buffer\n        if (bk.required) {\n          this.spaceLeft = this.lineWidth;\n          buffer = '';\n          textWidth = 0;\n          return wc = 0;\n        } else {\n          // reset the space left and buffer\n          this.spaceLeft = this.lineWidth - w;\n          buffer = word;\n          textWidth = w;\n          return wc = 1;\n        }\n      } else {\n        return this.spaceLeft -= w;\n      }\n    });\n      \n    if (wc > 0) {\n      this.emit('lastLine', options, this);\n      emitLine();\n    }\n        \n    this.emit('sectionEnd', options, this);\n    \n    // if the wrap is set to be continued, save the X position\n    // to start the first line of the next segment at, and reset\n    // the y position\n    if (options.continued === true) {\n      if (lc > 1) { this.continuedX = 0; }\n      this.continuedX += options.textWidth || 0;\n      return this.document.y = y;\n    } else {\n      return this.document.x = this.startX;\n    }\n  }\n          \n  nextSection(options) {\n    this.emit('sectionEnd', options, this);\n    \n    if (++this.column > this.columns) {\n      // if a max height was specified by the user, we're done.\n      // otherwise, the default is to make a new page at the bottom.\n      if (this.height != null) { return false; }\n               \n      this.document.addPage();\n      this.column = 1;\n      this.startY = this.document.page.margins.top;\n      this.maxY = this.document.page.maxY();\n      this.document.x = this.startX;\n      if (this.document._fillColor) { this.document.fillColor(...(this.document._fillColor || [])); }\n      this.emit('pageBreak', options, this);\n    } else {\n      this.document.x += this.lineWidth + this.columnGap;\n      this.document.y = this.startY;\n      this.emit('columnBreak', options, this);\n    }\n    \n    this.emit('sectionStart', options, this);\n    return true;\n  }\n}\n      \nexport default LineWrapper;\n","import LineWrapper from '../line_wrapper';\nimport PDFObject from '../object';\n\nconst {\n  number\n} = PDFObject;\n\nexport default {\n  initText() {\n    this._line = this._line.bind(this);\n    // Current coordinates\n    this.x = 0;\n    this.y = 0;\n    return this._lineGap = 0;\n  },\n\n  lineGap(_lineGap) {\n    this._lineGap = _lineGap;\n    return this;\n  },\n\n  moveDown(lines) {\n    if (lines == null) { lines = 1; }\n    this.y += (this.currentLineHeight(true) * lines) + this._lineGap;\n    return this;\n  },\n\n  moveUp(lines) {\n    if (lines == null) { lines = 1; }\n    this.y -= (this.currentLineHeight(true) * lines) + this._lineGap;\n    return this;\n  },\n\n  _text(text, x, y, options, lineCallback) {\n    options = this._initOptions(x, y, options);\n\n    // Convert text to a string\n    text = (text == null) ? '' : `${text}`;\n\n    // if the wordSpacing option is specified, remove multiple consecutive spaces\n    if (options.wordSpacing) {\n      text = text.replace(/\\s{2,}/g, ' ');\n    }\n\n    // word wrapping\n    if (options.width) {\n      let wrapper = this._wrapper;\n      if (!wrapper) {\n        wrapper = new LineWrapper(this, options);\n        wrapper.on('line', lineCallback);\n      }\n\n      this._wrapper = options.continued ? wrapper : null;\n      this._textOptions = options.continued ? options : null;\n      wrapper.wrap(text, options);\n\n    // render paragraphs as single lines\n    } else {\n      for (let line of text.split('\\n')) { lineCallback(line, options); }\n    }\n\n    return this;\n  },\n\n  text(text, x, y, options) {\n    return this._text(text, x, y, options, this._line);\n  },\n\n  widthOfString(string, options) {\n    if (options == null) { options = {}; }\n    return this._font.widthOfString(string, this._fontSize, options.features) + ((options.characterSpacing || 0) * (string.length - 1));\n  },\n\n  heightOfString(text, options) {\n    if (options == null) { options = {}; }\n    const {x,y} = this;\n\n    options = this._initOptions(options);\n    options.height = Infinity; // don't break pages\n\n    const lineGap = options.lineGap || this._lineGap || 0;\n    this._text(text, this.x, this.y, options, (line, options) => {\n      return this.y += this.currentLineHeight(true) + lineGap;\n    });\n\n    const height = this.y - y;\n    this.x = x;\n    this.y = y;\n\n    return height;\n  },\n\n  list(list, x, y, options, wrapper) {\n    options = this._initOptions(x, y, options);\n\n    const listType = options.listType || 'bullet';\n    const unit = Math.round(((this._font.ascender / 1000) * this._fontSize));\n    const midLine = unit / 2;\n    const r = options.bulletRadius || (unit / 3);\n    const indent = options.textIndent || (listType === 'bullet' ? r * 5 : unit * 2);\n    const itemIndent = options.bulletIndent || (listType === 'bullet' ? r * 8 : unit * 2);\n\n    let level = 1;\n    const items = [];\n    const levels = [];\n    const numbers = [];\n\n    var flatten = function(list) {\n      let n = 1;\n      for (let i = 0; i < list.length; i++) {\n        const item = list[i];\n        if (Array.isArray(item)) {\n          level++;\n          flatten(item);\n          level--;\n        } else {\n          items.push(item);\n          levels.push(level);\n          if (listType !== 'bullet') {\n            numbers.push(n++);\n          }\n        }\n      }\n    };\n\n    flatten(list);\n\n    const label = function(n) {\n      switch (listType) {\n        case 'numbered':\n          return `${n}.`;\n        case 'lettered':\n          var letter = String.fromCharCode(((n - 1) % 26) + 65);\n          var times = Math.floor(((n - 1) / 26) + 1);\n          var text = Array(times + 1).join(letter);\n          return `${text}.`;\n      }\n    };\n\n    wrapper = new LineWrapper(this, options);\n    wrapper.on('line', this._line);\n\n    level = 1;\n    let i = 0;\n    wrapper.on('firstLine', () => {\n      let l;\n      if ((l = levels[i++]) !== level) {\n        const diff = itemIndent * (l - level);\n        this.x += diff;\n        wrapper.lineWidth -= diff;\n        level = l;\n      }\n\n      switch (listType) {\n        case 'bullet':\n          this.circle((this.x - indent) + r, this.y + midLine, r);\n          return this.fill();\n        case 'numbered': case 'lettered':\n          var text = label(numbers[i - 1]);\n          return this._fragment(text, this.x - indent, this.y, options);\n      }\n    });\n\n    wrapper.on('sectionStart', () => {\n      const pos = indent + (itemIndent * (level - 1));\n      this.x += pos;\n      return wrapper.lineWidth -= pos;\n    });\n\n    wrapper.on('sectionEnd', () => {\n      const pos = indent + (itemIndent * (level - 1));\n      this.x -= pos;\n      return wrapper.lineWidth += pos;\n    });\n\n    wrapper.wrap(items.join('\\n'), options);\n\n    return this;\n  },\n\n  _initOptions(x, y, options) {\n    if (x == null) { x = {}; }\n    if (options == null) { options = {}; }\n    if (typeof x === 'object') {\n      options = x;\n      x = null;\n    }\n\n    // clone options object\n    options = (function() {\n      const opts = {};\n      for (let k in options) { const v = options[k]; opts[k] = v; }\n      return opts;\n    })();\n\n    // extend options with previous values for continued text\n    if (this._textOptions) {\n      for (let key in this._textOptions) {\n        const val = this._textOptions[key];\n        if (key !== 'continued') {\n          if (options[key] == null) { options[key] = val; }\n        }\n      }\n    }\n\n    // Update the current position\n    if (x != null) {\n      this.x = x;\n    }\n    if (y != null) {\n      this.y = y;\n    }\n\n    // wrap to margins if no x or y position passed\n    if (options.lineBreak !== false) {\n      if (options.width == null) { options.width = this.page.width - this.x - this.page.margins.right; }\n    }\n\n    if (!options.columns) { options.columns = 0; }\n    if (options.columnGap == null) { options.columnGap = 18; } // 1/4 inch\n\n    return options;\n  },\n\n  _line(text, options, wrapper) {\n    if (options == null) { options = {}; }\n    this._fragment(text, this.x, this.y, options);\n    const lineGap = options.lineGap || this._lineGap || 0;\n\n    if (!wrapper) {\n      return this.x += this.widthOfString(text);\n    } else {\n      return this.y += this.currentLineHeight(true) + lineGap;\n    }\n  },\n\n  _fragment(text, x, y, options) {\n    let dy, encoded, i, positions, textWidth, words;\n    text = (`${text}`).replace(/\\n/g, '');\n    if (text.length === 0) { return; }\n\n    // handle options\n    const align = options.align || 'left';\n    let wordSpacing = options.wordSpacing || 0;\n    const characterSpacing = options.characterSpacing || 0;\n\n    // text alignments\n    if (options.width) {\n      switch (align) {\n        case 'right':\n          textWidth = this.widthOfString(text.replace(/\\s+$/, ''), options);\n          x += options.lineWidth - textWidth;\n          break;\n\n        case 'center':\n          x += (options.lineWidth / 2) - (options.textWidth / 2);\n          break;\n\n        case 'justify':\n          // calculate the word spacing value\n          words = text.trim().split(/\\s+/);\n          textWidth = this.widthOfString(text.replace(/\\s+/g, ''), options);\n          var spaceWidth = this.widthOfString(' ') + characterSpacing;\n          wordSpacing = Math.max(0, ((options.lineWidth - textWidth) / Math.max(1, words.length - 1)) - spaceWidth);\n          break;\n      }\n    }\n\n    // text baseline alignments based on http://wiki.apache.org/xmlgraphics-fop/LineLayout/AlignmentHandling\n    if (typeof options.baseline === 'number') {\n      dy = -options.baseline;\n    } else {\n      switch (options.baseline) {\n        case 'svg-middle':\n          dy = 0.5 * this._font.xHeight;\n          break;\n        case 'middle': case 'svg-central':\n          dy = 0.5 * (this._font.descender + this._font.ascender);\n          break;\n        case 'bottom': case 'ideographic':\n          dy = this._font.descender;\n          break;\n        case 'alphabetic':\n          dy = 0;\n          break;\n        case 'mathematical':\n          dy = 0.5 * this._font.ascender;\n          break;\n        case 'hanging':\n          dy = 0.8 * this._font.ascender;\n          break;\n        case 'top':\n          dy = this._font.ascender;\n          break;\n        default:\n          dy = this._font.ascender;\n      }\n      dy = (dy / 1000) * this._fontSize;\n    }\n\n    // calculate the actual rendered width of the string after word and character spacing\n    const renderedWidth = options.textWidth + (wordSpacing * (options.wordCount - 1)) + (characterSpacing * (text.length - 1));\n\n    // create link annotations if the link option is given\n    if (options.link != null) {\n      this.link(x, y, renderedWidth, this.currentLineHeight(), options.link);\n    }\n\n    // create underline or strikethrough line\n    if (options.underline || options.strike) {\n      this.save();\n      if (!options.stroke) { this.strokeColor(...(this._fillColor || [])); }\n\n      const lineWidth = this._fontSize < 10 ? 0.5 : Math.floor(this._fontSize / 10);\n      this.lineWidth(lineWidth);\n\n      const d = options.underline ? 1 : 2;\n      let lineY = y + (this.currentLineHeight() / d);\n      if (options.underline) { lineY -= lineWidth; }\n\n      this.moveTo(x, lineY);\n      this.lineTo(x + renderedWidth, lineY);\n      this.stroke();\n      this.restore();\n    }\n\n    this.save();\n\n    // oblique (angle in degrees or boolean)\n    if (options.oblique) {\n      let skew;\n      if (typeof options.oblique === 'number') {\n        skew = -Math.tan((options.oblique * Math.PI) / 180);\n      } else {\n        skew = -0.25;\n      }\n      this.transform(1, 0, 0, 1, x, y);\n      this.transform(1, 0, skew, 1, -skew * dy, 0);\n      this.transform(1, 0, 0, 1, -x, -y);\n    }\n\n    // flip coordinate system\n    this.transform(1, 0, 0, -1, 0, this.page.height);\n    y = this.page.height - y - dy;\n\n    // add current font to page if necessary\n    if (this.page.fonts[this._font.id] == null) { this.page.fonts[this._font.id] = this._font.ref(); }\n\n    // begin the text object\n    this.addContent(\"BT\");\n\n    // text position\n    this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\n\n    // font and font size\n    this.addContent(`/${this._font.id} ${number(this._fontSize)} Tf`);\n\n    // rendering mode\n    const mode = options.fill && options.stroke ? 2 : options.stroke ? 1 : 0;\n    if (mode) { this.addContent(`${mode} Tr`); }\n\n    // Character spacing\n    if (characterSpacing) { this.addContent(`${number(characterSpacing)} Tc`); }\n\n    // Add the actual text\n    // If we have a word spacing value, we need to encode each word separately\n    // since the normal Tw operator only works on character code 32, which isn't\n    // used for embedded fonts.\n    if (wordSpacing) {\n      words = text.trim().split(/\\s+/);\n      wordSpacing += this.widthOfString(' ') + characterSpacing;\n      wordSpacing *= 1000 / this._fontSize;\n\n      encoded = [];\n      positions = [];\n      for (let word of words) {\n        const [encodedWord, positionsWord] = this._font.encode(word, options.features);\n        encoded.push(...(encodedWord || []));\n        positions.push(...(positionsWord || []));\n\n        // add the word spacing to the end of the word\n        // clone object because of cache\n        const space = {};\n        const object = positions[positions.length - 1];\n        for (let key in object) { const val = object[key]; space[key] = val; }\n        space.xAdvance += wordSpacing;\n        positions[positions.length - 1] = space;\n      }\n    } else {\n      [encoded, positions] = this._font.encode(text, options.features);\n    }\n\n    const scale = this._fontSize / 1000;\n    const commands = [];\n    let last = 0;\n    let hadOffset = false;\n\n    // Adds a segment of text to the TJ command buffer\n    const addSegment = cur => {\n      if (last < cur) {\n        const hex = encoded.slice(last, cur).join('');\n        const advance = positions[cur - 1].xAdvance - positions[cur - 1].advanceWidth;\n        commands.push(`<${hex}> ${number(-advance)}`);\n      }\n\n      return last = cur;\n    };\n\n    // Flushes the current TJ commands to the output stream\n    const flush = i => {\n      addSegment(i);\n\n      if (commands.length > 0) {\n        this.addContent(`[${commands.join(' ')}] TJ`);\n        return commands.length = 0;\n      }\n    };\n\n    for (i = 0; i < positions.length; i++) {\n      // If we have an x or y offset, we have to break out of the current TJ command\n      // so we can move the text position.\n      const pos = positions[i];\n      if (pos.xOffset || pos.yOffset) {\n        // Flush the current buffer\n        flush(i);\n\n        // Move the text position and flush just the current character\n        this.addContent(`1 0 0 1 ${number(x + (pos.xOffset * scale))} ${number(y + (pos.yOffset * scale))} Tm`);\n        flush(i + 1);\n\n        hadOffset = true;\n      } else {\n        // If the last character had an offset, reset the text position\n        if (hadOffset) {\n          this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\n          hadOffset = false;\n        }\n\n        // Group segments that don't have any advance adjustments\n        if ((pos.xAdvance - pos.advanceWidth) !== 0) {\n          addSegment(i + 1);\n        }\n      }\n\n      x += pos.xAdvance * scale;\n    }\n\n    // Flush any remaining commands\n    flush(i);\n\n    // end the text object\n    this.addContent(\"ET\");\n\n    // restore flipped coordinate system\n    return this.restore();\n  }\n};\n","const MARKERS = [0xFFC0, 0xFFC1, 0xFFC2, 0xFFC3, 0xFFC5, 0xFFC6, 0xFFC7,\n  0xFFC8, 0xFFC9, 0xFFCA, 0xFFCB, 0xFFCC, 0xFFCD, 0xFFCE, 0xFFCF];\n\nconst COLOR_SPACE_MAP = {\n  1: 'DeviceGray',\n  3: 'DeviceRGB',\n  4: 'DeviceCMYK'\n}\n\nclass JPEG {\n  constructor(data, label) {\n    let marker;\n    this.data = data;\n    this.label = label;\n    if (this.data.readUInt16BE(0) !== 0xFFD8) {\n      throw \"SOI not found in JPEG\";\n    }\n          \n    let pos = 2;\n    while (pos < this.data.length) {\n      marker = this.data.readUInt16BE(pos);\n      pos += 2;\n      if (MARKERS.includes(marker)) { break; }\n      pos += this.data.readUInt16BE(pos);\n    }\n\n    if (!MARKERS.includes(marker)) { throw \"Invalid JPEG.\"; }\n    pos += 2;\n\n    this.bits = this.data[pos++];\n    this.height = this.data.readUInt16BE(pos);\n    pos += 2;\n\n    this.width = this.data.readUInt16BE(pos);\n    pos += 2;\n\n    const channels = this.data[pos++];\n    this.colorSpace = COLOR_SPACE_MAP[channels];\n    \n    this.obj = null;\n  }\n    \n  embed(document) {\n    if (this.obj) { return; }\n  \n    this.obj = document.ref({\n      Type: 'XObject',\n      Subtype: 'Image',\n      BitsPerComponent: this.bits,\n      Width: this.width,\n      Height: this.height,\n      ColorSpace: this.colorSpace,\n      Filter: 'DCTDecode'\n    });\n    \n    // add extra decode params for CMYK images. By swapping the\n    // min and max values from the default, we invert the colors. See\n    // section 4.8.4 of the spec.  \n    if (this.colorSpace === 'DeviceCMYK') {\n      this.obj.data['Decode'] = [1.0, 0.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0];\n    }\n    \n    this.obj.end(this.data);\n  \n    // free memory\n    return this.data = null;\n  }\n};\n    \nexport default JPEG;\n","import zlib from 'zlib';\nimport PNG from 'png-js';\n\nclass PNGImage {\n  constructor(data, label) {\n    this.label = label;\n    this.image = new PNG(data);\n    this.width = this.image.width;\n    this.height = this.image.height;\n    this.imgData = this.image.imgData;\n    this.obj = null;\n  }\n\n  embed(document) {\n    this.document = document;\n    if (this.obj) { return; }\n\n    this.obj = this.document.ref({\n      Type: 'XObject',\n      Subtype: 'Image',\n      BitsPerComponent: this.image.bits,\n      Width: this.width,\n      Height: this.height,\n      Filter: 'FlateDecode'\n    });\n\n    if (!this.image.hasAlphaChannel) {\n      const params = this.document.ref({\n        Predictor: 15,\n        Colors: this.image.colors,\n        BitsPerComponent: this.image.bits,\n        Columns: this.width\n      });\n\n      this.obj.data['DecodeParms'] = params;\n      params.end();\n    }\n\n    if (this.image.palette.length === 0) {\n      this.obj.data['ColorSpace'] = this.image.colorSpace;\n    } else {\n      // embed the color palette in the PDF as an object stream\n      const palette = this.document.ref();\n      palette.end(new Buffer(this.image.palette));\n\n      // build the color space array for the image\n      this.obj.data['ColorSpace'] = ['Indexed', 'DeviceRGB', (this.image.palette.length / 3) - 1, palette];\n    }\n\n    // For PNG color types 0, 2 and 3, the transparency data is stored in\n    // a dedicated PNG chunk.\n    if (this.image.transparency.grayscale) {\n      // Use Color Key Masking (spec section 4.8.5)\n      // An array with N elements, where N is two times the number of color components.\n      const val = this.image.transparency.greyscale;\n      return this.obj.data['Mask'] = [val, val];\n\n    } else if (this.image.transparency.rgb) {\n      // Use Color Key Masking (spec section 4.8.5)\n      // An array with N elements, where N is two times the number of color components.\n      const { rgb } = this.image.transparency;\n      const mask = [];\n      for (let x of rgb) {\n        mask.push(x, x);\n      }\n\n      return this.obj.data['Mask'] = mask;\n\n    } else if (this.image.transparency.indexed) {\n      // Create a transparency SMask for the image based on the data\n      // in the PLTE and tRNS sections. See below for details on SMasks.\n      return this.loadIndexedAlphaChannel();\n\n    } else if (this.image.hasAlphaChannel) {\n      // For PNG color types 4 and 6, the transparency data is stored as a alpha\n      // channel mixed in with the main image data. Separate this data out into an\n      // SMask object and store it separately in the PDF.\n      return this.splitAlphaChannel();\n\n    } else {\n      return this.finalize();\n    }\n  }\n\n  finalize() {\n    if (this.alphaChannel) {\n      const sMask = this.document.ref({\n        Type: 'XObject',\n        Subtype: 'Image',\n        Height: this.height,\n        Width: this.width,\n        BitsPerComponent: 8,\n        Filter: 'FlateDecode',\n        ColorSpace: 'DeviceGray',\n        Decode: [0, 1]});\n\n      sMask.end(this.alphaChannel);\n      this.obj.data['SMask'] = sMask;\n    }\n\n    // add the actual image data\n    this.obj.end(this.imgData);\n\n    // free memory\n    this.image = null;\n    return this.imgData = null;\n  }\n\n  splitAlphaChannel() {\n    return this.image.decodePixels(pixels => {\n      let a, p;\n      const colorByteSize = (this.image.colors * this.image.bits) / 8;\n      const pixelCount = this.width * this.height;\n      const imgData = new Buffer(pixelCount * colorByteSize);\n      const alphaChannel = new Buffer(pixelCount);\n\n      let i = (p = (a = 0));\n      const len = pixels.length;\n      while (i < len) {\n        imgData[p++] = pixels[i++];\n        imgData[p++] = pixels[i++];\n        imgData[p++] = pixels[i++];\n        alphaChannel[a++] = pixels[i++];\n      }\n\n      let done = 0;\n      zlib.deflate(imgData, (err, imgData1) => {\n        this.imgData = imgData1;\n        if (err) { throw err; }\n        if (++done === 2) { return this.finalize(); }\n      });\n\n      return zlib.deflate(alphaChannel, (err, alphaChannel1) => {\n        this.alphaChannel = alphaChannel1;\n        if (err) { throw err; }\n        if (++done === 2) { return this.finalize(); }\n      });\n    });\n  }\n\n  loadIndexedAlphaChannel(fn) {\n    const transparency = this.image.transparency.indexed;\n    return this.image.decodePixels(pixels => {\n      const alphaChannel = new Buffer(this.width * this.height);\n\n      let i = 0;\n      for (let j = 0, end = pixels.length; j < end; j++) {\n        alphaChannel[i++] = transparency[pixels[j]];\n      }\n\n      return zlib.deflate(alphaChannel, (err, alphaChannel1) => {\n        this.alphaChannel = alphaChannel1;\n        if (err) { throw err; }\n        return this.finalize();\n      });\n    });\n  }\n}\n\nexport default PNGImage;\n","/*\nPDFImage - embeds images in PDF documents\nBy Devon Govett\n*/\n\nimport fs from 'fs';\nimport JPEG from './image/jpeg';\nimport PNG from './image/png';\n\nclass PDFImage {\n  static open(src, label) {\n    let data;\n    if (Buffer.isBuffer(src)) {\n      data = src;\n    } else if (src instanceof ArrayBuffer) {\n      data = new Buffer(new Uint8Array(src));\n    } else {\n      let match;\n      if (match = /^data:.+;base64,(.*)$/.exec(src)) {\n        data = new Buffer(match[1], 'base64');\n\n      } else {\n        data = fs.readFileSync(src);\n        if (!data) { return; }\n      }\n    }\n    \n    if ((data[0] === 0xff) && (data[1] === 0xd8)) {\n      return new JPEG(data, label);\n      \n    } else if ((data[0] === 0x89) && (data.toString('ascii', 1, 4) === 'PNG')) {\n      return new PNG(data, label);\n      \n    } else {\n      throw new Error('Unknown image format.');\n    }\n  }\n}\n          \nexport default PDFImage;","import PDFImage from '../image';\n\nexport default {\n  initImages() {\n    this._imageRegistry = {};\n    return this._imageCount = 0;\n  },\n    \n  image(src, x, y, options) {\n    let bh, bp, bw, image, ip, left, left1;\n    if (options == null) { options = {}; }\n    if (typeof x === 'object') {\n      options = x;\n      x = null;\n    }\n\n    x = (left = x != null ? x : options.x) != null ? left : this.x;\n    y = (left1 = y != null ? y : options.y) != null ? left1 : this.y;\n\n    if (typeof src === 'string') {\n      image = this._imageRegistry[src];\n    }\n\n    if (!image) {\n      if (src.width && src.height) {\n        image = src;\n      } else {\n        image = this.openImage(src);\n      }\n    }\n\n    if (!image.obj) {\n      image.embed(this);\n    }\n\n    if (this.page.xobjects[image.label] == null) { this.page.xobjects[image.label] = image.obj; }\n\n    let w = options.width || image.width;\n    let h = options.height || image.height;\n\n    if (options.width && !options.height) {\n      const wp = w / image.width;\n      w = image.width * wp;\n      h = image.height * wp;\n\n    } else if (options.height && !options.width) {\n      const hp = h / image.height;\n      w = image.width * hp;\n      h = image.height * hp;\n\n    } else if (options.scale) {\n      w = image.width * options.scale;\n      h = image.height * options.scale;\n\n    } else if (options.fit) {\n      [bw, bh] = options.fit;\n      bp = bw / bh;\n      ip = image.width / image.height;\n      if (ip > bp) {\n        w = bw;\n        h = bw / ip;\n      } else {\n        h = bh;\n        w = bh * ip;\n      }\n\n    } else if (options.cover) {\n      [bw, bh] = options.cover;\n      bp = bw / bh;\n      ip = image.width / image.height;\n      if (ip > bp) {\n        h = bh;\n        w = bh * ip;\n      } else {\n        w = bw;\n        h = bw / ip;\n      }\n    }\n\n    if (options.fit || options.cover) {\n      if (options.align === 'center') {\n        x = (x + (bw / 2)) - (w / 2);\n      } else if (options.align === 'right') {\n        x = (x + bw) - w;\n      }\n\n      if (options.valign === 'center') {\n        y = (y + (bh / 2)) - (h / 2);\n      } else if (options.valign === 'bottom') {\n        y = (y + bh) - h;\n      }\n    }\n\n    // Set the current y position to below the image if it is in the document flow      \n    if (this.y === y) { this.y += h; }\n\n    this.save();\n    this.transform(w, 0, 0, -h, x, y + h);\n    this.addContent(`/${image.label} Do`);\n    this.restore();\n\n    return this;\n  },\n\n  openImage(src) {\n    let image;\n    if (typeof src === 'string') {\n      image = this._imageRegistry[src];\n    }\n\n    if (!image) {\n      image = PDFImage.open(src, `I${++this._imageCount}`);\n      if (typeof src === 'string') {\n        this._imageRegistry[src] = image;\n      }\n    }\n\n    return image;\n  }\n};\n","export default { \n  annotate(x, y, w, h, options) {\n    options.Type = 'Annot';\n    options.Rect = this._convertRect(x, y, w, h);\n    options.Border = [0, 0, 0];\n    if (options.Subtype !== 'Link') { if (options.C == null) { options.C = this._normalizeColor(options.color || [0, 0, 0]); } } // convert colors\n    delete options.color;\n    \n    if (typeof options.Dest === 'string') {\n      options.Dest = new String(options.Dest);\n    }\n    \n    // Capitalize keys  \n    for (let key in options) {\n      const val = options[key];\n      options[key[0].toUpperCase() + key.slice(1)] = val;\n    }\n      \n    const ref = this.ref(options);\n    this.page.annotations.push(ref);\n    ref.end();\n    return this;\n  },\n    \n  note(x, y, w, h, contents, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Text';\n    options.Contents = new String(contents);\n    options.Name = 'Comment';\n    if (options.color == null) { options.color = [243, 223, 92]; }\n    return this.annotate(x, y, w, h, options);\n  },\n    \n  link(x, y, w, h, url, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Link';\n\n    if (typeof url === 'number') {\n      // Link to a page in the document (the page must already exist)\n      const pages = this._root.data.Pages.data;\n      if ((url >= 0) && (url < pages.Kids.length)) {\n        options.A = this.ref({\n          S: 'GoTo',\n          D: [pages.Kids[url], 'XYZ', null, null, null]});\n        options.A.end();\n      } else {\n        throw new Error(`The document has no page ${url}`);\n      }\n\n    } else {\n      // Link to an external url\n      options.A = this.ref({\n        S: 'URI',\n        URI: new String(url)\n      });\n      options.A.end();\n    }\n\n    return this.annotate(x, y, w, h, options);\n  },\n\n  _markup(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    const [x1, y1, x2, y2] = this._convertRect(x, y, w, h);\n    options.QuadPoints = [x1, y2, x2, y2, x1, y1, x2, y1];\n    options.Contents = new String;\n    return this.annotate(x, y, w, h, options);\n  },\n    \n  highlight(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Highlight';\n    if (options.color == null) { options.color = [241, 238, 148]; }\n    return this._markup(x, y, w, h, options);\n  },\n    \n  underline(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Underline';\n    return this._markup(x, y, w, h, options);\n  },\n    \n  strike(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'StrikeOut';\n    return this._markup(x, y, w, h, options);\n  },\n    \n  lineAnnotation(x1, y1, x2, y2, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Line';\n    options.Contents = new String;\n    options.L = [x1, this.page.height - y1, x2, this.page.height - y2];\n    return this.annotate(x1, y1, x2, y2, options);\n  },\n    \n  rectAnnotation(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Square';\n    options.Contents = new String;\n    return this.annotate(x, y, w, h, options);\n  },\n    \n  ellipseAnnotation(x, y, w, h, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'Circle';\n    options.Contents = new String;\n    return this.annotate(x, y, w, h, options);\n  },\n    \n  textAnnotation(x, y, w, h, text, options) {\n    if (options == null) { options = {}; }\n    options.Subtype = 'FreeText';\n    options.Contents = new String(text);\n    options.DA = new String;\n    return this.annotate(x, y, w, h, options);\n  },\n    \n  _convertRect(x1, y1, w, h) {\n    // flip y1 and y2\n    let y2 = y1;\n    y1 += h;\n    \n    // make x2\n    let x2 = x1 + w;\n    \n    // apply current transformation matrix to points\n    const [m0, m1, m2, m3, m4, m5] = this._ctm;\n    x1 = (m0 * x1) + (m2 * y1) + m4;\n    y1 = (m1 * x1) + (m3 * y1) + m5;\n    x2 = (m0 * x2) + (m2 * y2) + m4;\n    y2 = (m1 * x2) + (m3 * y2) + m5;\n    \n    return [x1, y1, x2, y2];\n  }\n};\n","class PDFOutline {\n  constructor(document, parent, title, dest, options) {\n    this.document = document;\n    if (options == null) { options = { expanded: false }; }\n    this.options = options;\n    this.outlineData = {};\n\n    if (dest !== null) {\n      this.outlineData['Dest'] = [dest.dictionary, 'Fit'];\n    }\n\n    if (parent !== null) {\n      this.outlineData['Parent'] = parent;\n    }\n\n    if (title !== null) {\n      this.outlineData['Title'] = new String(title);\n    }\n\n    this.dictionary = this.document.ref(this.outlineData);\n    this.children = [];\n  }\n\n  addItem(title, options) {\n    if (options == null) { options = { expanded: false }; }\n    const result = new PDFOutline(this.document, this.dictionary, title, this.document.page, options);\n    this.children.push(result);\n\n    return result;\n  }\n\n  endOutline() {\n    let end;\n    if (this.children.length > 0) {\n      let asc, i;\n      if (this.options.expanded) {\n        this.outlineData.Count = this.children.length;\n      }\n\n      const first = this.children[0], last = this.children[this.children.length - 1];\n      this.outlineData.First = first.dictionary;\n      this.outlineData.Last = last.dictionary;\n\n      for (i = 0, end = this.children.length, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n        const child = this.children[i];\n        if (i > 0) {\n          child.outlineData.Prev = this.children[i-1].dictionary;\n        }\n        if (i < (this.children.length - 1)) {\n          child.outlineData.Next = this.children[i+1].dictionary;\n        }\n        child.endOutline();\n      }\n    }\n\n    return this.dictionary.end();\n  }\n}\n\n\nexport default PDFOutline;","import PDFOutline from '../outline';\n\nexport default {\n    initOutline() {\n        return this.outline = new PDFOutline(this, null, null, null);\n    },\n\n    endOutline() {\n        this.outline.endOutline();\n        if (this.outline.children.length > 0) {\n            this._root.data.Outlines = this.outline.dictionary;\n            return this._root.data.PageMode = 'UseOutlines';\n        }\n    }\n};\n","/*\nPDFDocument - represents an entire PDF document\nBy Devon Govett\n*/\n\nimport stream from 'stream';\nimport fs from 'fs';\nimport PDFObject from './object';\nimport PDFReference from './reference';\nimport PDFPage from './page';\nimport ColorMixin from './mixins/color';\nimport VectorMixin from './mixins/vector';\nimport FontsMixin from './mixins/fonts';\nimport TextMixin from './mixins/text';\nimport ImagesMixin from './mixins/images';\nimport AnnotationsMixin from './mixins/annotations';\nimport OutlineMixin from './mixins/outline';\n\nclass PDFDocument extends stream.Readable {\n  constructor(options = {}) {\n    super(options);\n    this.options = options;\n\n    // PDF version\n    this.version = 1.3;\n\n    // Whether streams should be compressed\n    this.compress = this.options.compress != null ? this.options.compress : true;\n\n    this._pageBuffer = [];\n    this._pageBufferStart = 0;\n\n    // The PDF object store\n    this._offsets = [];\n    this._waiting = 0;\n    this._ended = false;\n    this._offset = 0;\n    const Pages = this.ref({\n      Type: 'Pages',\n      Count: 0,\n      Kids: []});\n\n    Pages.finalize = function() {\n      this.offset = this.document._offset;\n      this.document._write(this.id + \" \" + this.gen + \" obj\");\n      this.document._write('<<');\n      this.document._write('/Type /Pages');\n      this.document._write(`/Count ${this.data.Count}`);\n      this.document._write(`/Kids [${Buffer.concat(this.data.Kids).slice(0,-1).toString()}]`);\n      this.document._write('>>');\n      this.document._write('endobj');\n      return this.document._refEnd(this);\n    };\n\n    this._root = this.ref({\n      Type: 'Catalog',\n      Pages\n    });\n\n    // The current page\n    this.page = null;\n\n    // Initialize mixins\n    this.initColor();\n    this.initVector();\n    this.initFonts();\n    this.initText();\n    this.initImages();\n    this.initOutline();\n\n    // Initialize the metadata\n    this.info = {\n      Producer: 'PDFKit',\n      Creator: 'PDFKit',\n      CreationDate: new Date()\n    };\n\n    if (this.options.info) {\n      for (let key in this.options.info) {\n        const val = this.options.info[key];\n        this.info[key] = val;\n      }\n    }\n\n    // Write the header\n    // PDF version\n    this._write(`%PDF-${this.version}`);\n\n    // 4 binary chars, as recommended by the spec\n    this._write(\"%\\xFF\\xFF\\xFF\\xFF\");\n\n    // Add the first page\n    if (this.options.autoFirstPage !== false) {\n      this.addPage();\n    }\n  }\n\n  addPage(options) {\n    // end the current page if needed\n    if (options == null) { ({ options } = this); }\n    if (!this.options.bufferPages) { this.flushPages(); }\n\n    // create a page object\n    this.page = new PDFPage(this, options);\n    this._pageBuffer.push(this.page);\n\n    // add the page to the object store\n    const pages = this._root.data.Pages.data;\n    pages.Kids.push(new Buffer(this.page.dictionary + ' '));\n    pages.Count++;\n\n    // reset x and y coordinates\n    this.x = this.page.margins.left;\n    this.y = this.page.margins.top;\n\n    // flip PDF coordinate system so that the origin is in\n    // the top left rather than the bottom left\n    this._ctm = [1, 0, 0, 1, 0, 0];\n    this.transform(1, 0, 0, -1, 0, this.page.height);\n\n    this.emit('pageAdded');\n\n    return this;\n  }\n\n  bufferedPageRange() {\n    return { start: this._pageBufferStart, count: this._pageBuffer.length };\n  }\n\n  switchToPage(n) {\n    let page;\n    if (!(page = this._pageBuffer[n - this._pageBufferStart])) {\n      throw new Error(`switchToPage(${n}) out of bounds, current buffer covers pages ${this._pageBufferStart} to ${(this._pageBufferStart + this._pageBuffer.length) - 1}`);\n    }\n\n    return this.page = page;\n  }\n\n  flushPages() {\n    // this local variable exists so we're future-proof against\n    // reentrant calls to flushPages.\n    const pages = this._pageBuffer;\n    this._pageBuffer = [];\n    this._pageBufferStart += pages.length;\n    for (let page of pages) {\n      page.end();\n    }\n\n  }\n\n  ref(data) {\n    const ref = new PDFReference(this, this._offsets.length + 1, data);\n    this._offsets.push(null); // placeholder for this object's offset once it is finalized\n    this._waiting++;\n    return ref;\n  }\n\n  _read() {}\n      // do nothing, but this method is required by node\n\n  _write(data) {\n    if (!Buffer.isBuffer(data)) {\n      data = new Buffer(data + '\\n', 'binary');\n    }\n\n    this.push(data);\n    return this._offset += data.length;\n  }\n\n  addContent(data) {\n    this.page.write(data);\n    return this;\n  }\n\n  _refEnd(ref) {\n    this._offsets[ref.id - 1] = ref.offset;\n    if ((--this._waiting === 0) && this._ended) {\n      this._finalize();\n      return this._ended = false;\n    }\n  }\n\n  write(filename, fn) {\n    // print a deprecation warning with a stacktrace\n    const err = new Error(`\\\nPDFDocument#write is deprecated, and will be removed in a future version of PDFKit. \\\nPlease pipe the document into a Node stream.\\\n`\n    );\n\n    console.warn(err.stack);\n\n    this.pipe(fs.createWriteStream(filename));\n    this.end();\n    return this.once('end', fn);\n  }\n\n  output(fn) {\n    // more difficult to support this. It would involve concatenating all the buffers together\n    throw new Error(`\\\nPDFDocument#output is deprecated, and has been removed from PDFKit. \\\nPlease pipe the document into a Node stream.\\\n`\n    );\n  }\n\n  end() {\n    this.flushPages();\n    this._info = this.ref();\n    for (let key in this.info) {\n      let val = this.info[key];\n      if (typeof val === 'string') {\n        val = new String(val);\n      }\n\n      this._info.data[key] = val;\n    }\n\n    this._info.end();\n\n    for (let name in this._fontFamilies) {\n      const font = this._fontFamilies[name];\n      font.finalize();\n    }\n\n    this.endOutline();\n  \n    this._root.end();\n    this._root.data.Pages.end();\n\n    if (this._waiting === 0) {\n      return this._finalize();\n    } else {\n      return this._ended = true;\n    }\n  }\n\n  _finalize(fn) {\n    // generate xref\n    const xRefOffset = this._offset;\n    this._write(\"xref\");\n    this._write(`0 ${this._offsets.length + 1}`);\n    this._write(\"0000000000 65535 f \");\n\n    for (let offset of this._offsets) {\n      offset = (`0000000000${offset}`).slice(-10);\n      this._write(offset + ' 00000 n ');\n    }\n\n    // trailer\n    this._write('trailer');\n    this._write(PDFObject.convert({\n      Size: this._offsets.length + 1,\n      Root: this._root,\n      Info: this._info\n    })\n    );\n\n    this._write('startxref');\n    this._write(`${xRefOffset}`);\n    this._write('%%EOF');\n\n    // end the stream\n    return this.push(null);\n  }\n\n  toString() {\n    return \"[object PDFDocument]\";\n  }\n};\n\nconst mixin = methods => {\n  Object.assign(PDFDocument.prototype, methods);  \n};\n\nmixin(ColorMixin);\nmixin(VectorMixin);\nmixin(FontsMixin);\nmixin(TextMixin);\nmixin(ImagesMixin);\nmixin(AnnotationsMixin);\nmixin(OutlineMixin);\n\nexport default PDFDocument;\n"],"names":["PDFAbstractReference","Error","pad","str","length","Array","join","slice","escapableRe","escapable","swapBytes","buff","l","i","end","a","PDFObject","convert","object","String","string","isUnicode","charCodeAt","Buffer","toString","replace","c","isBuffer","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","isArray","items","map","e","call","out","key","val","push","number","n","Math","round","PDFReference","document","id","data","gen","compress","Filter","uncompressedLength","buffer","chunk","Length","write","finalize","setTimeout","offset","_offset","_write","concat","zlib","deflateSync","_refEnd","DEFAULT_MARGINS","SIZES","PDFPage","options","size","layout","margin","margins","dimensions","toUpperCase","width","height","content","ref","resources","defineProperties","Font","XObject","ExtGState","Pattern","dictionary","Annots","_root","Pages","bottom","PDFGradient","doc","stops","embedded","transform","pos","color","opacity","_normalizeColor","_colorSpace","max","min","m11","m12","m21","m22","dx","dy","m","asc","fn","matrix","last","bounds","encode","_gradCount","shader","pattern","v","some","stop","grad","opacityGradient","embed","pageBBox","page","form","gstate","opacityPattern","patterns","op","_ctm","m0","m1","m2","m3","m4","m5","addContent","PDFLinearGradient","x1","y1","x2","y2","PDFRadialGradient","r1","r2","Gradient","_opacityRegistry","_opacityCount","charAt","hex","parseInt","namedColors","part","stroke","_setColorSpace","apply","space","set","_setColor","fillOpacity","_fillColor","strokeOpacity","_doOpacity","name","Type","ca","CA","ext_gstates","cx","cy","px","py","sx","sy","parameters","parse","path","cmd","ret","args","curArg","foundDecimal","params","includes","commands","runners","moveTo","bezierCurveTo","quadraticCurveTo","lineTo","closePath","solveArc","x","y","coords","rx","ry","rot","large","sweep","ex","ey","segs","arcToSegments","seg","bez","segmentToBezier","rotateX","ox","oy","th","PI","sin_th","sin","cos_th","cos","abs","pl","sqrt","a00","a01","a10","a11","x0","y0","d","sfactor_sq","sfactor","xc","yc","th0","atan2","th1","th_arc","segments","ceil","result","th2","th3","th_half","t","x3","y3","SVGPath","KAPPA","_ctmStack","pop","w","_CAP_STYLES","j","_JOIN_STYLES","phase","cp1x","cp1y","cp2x","cp2y","cpx","cpy","h","r","xe","ye","xm","ym","radius","ellipse","startAngle","endAngle","anticlockwise","TWO_PI","HALF_PI","deltaAng","dir","numSegs","segAng","handleLen","curAng","deltaCx","deltaCy","ax","ay","segIdx","points","shift","point","rule","test","fillColor","_windingRule","strokeColor","isFillRule","values","angle","rad","origin","xFactor","yFactor","WIN_ANSI_MAP","characters","split","AFMFont","open","filename","fs","readFileSync","contents","attributes","glyphWidths","boundingBoxes","kernPairs","charWidths","char","bbox","ascender","descender","xHeight","capHeight","lineGap","section","line","match","value","text","res","glyphs","charCode","characterToGlyph","character","glyph","left","right","advances","index","widthOfGlyph","getKernPair","PDFFont","includeGap","gap","STANDARD_FONTS","__dirname","StandardFont","font","encoded","encodeText","glyphsForString","advancesForGlyphs","positions","advance","scale","isStandardFont","toHex","num","EmbeddedFont","subset","createSubset","unicode","widths","getGlyph","advanceWidth","postscriptName","unitsPerEm","ascent","descent","layoutCache","Object","create","features","run","position","cached","layoutRun","onlyWidth","needle","layoutCached","gid","includeGlyph","codePoints","isCFF","cff","fontFile","Subtype","encodeStream","on","familyClass","sFamilyClass","undefined","flags","post","isFixedPitch","head","macStyle","italic","tag","fromCharCode","descriptor","minX","minY","maxX","maxY","italicAngle","FontFile3","FontFile2","descendantFont","toUnicodeCmap","cmap","entries","PDFFontFactory","src","family","fontkit","openSync","Uint8Array","ArrayBuffer","_fontFamilies","_fontCount","_fontSize","_font","_registeredFonts","cacheKey","fontSize","lineHeight","LineWrapper","EventEmitter","indent","characterSpacing","wordSpacing","columns","columnGap","lineWidth","spaceLeft","startX","startY","column","ellipsis","continuedX","once","continued","align","lastLine","paragraphGap","word","widthOfString","bk","breaker","LineBreaker","wordWidths","nextBreak","shouldContinue","wordWidth","lbk","fbk","mightGrow","mustShrink","required","nextY","currentLineHeight","nextSection","textWidth","wc","lc","emitLine","wordCount","emit","eachWord","lh","addPage","top","_line","bind","_lineGap","lines","lineCallback","_initOptions","wrapper","_wrapper","_textOptions","wrap","_text","Infinity","list","listType","unit","midLine","bulletRadius","textIndent","itemIndent","bulletIndent","level","levels","numbers","flatten","item","label","letter","times","floor","diff","circle","fill","_fragment","opts","k","lineBreak","words","trim","spaceWidth","baseline","renderedWidth","link","underline","strike","save","lineY","restore","oblique","skew","tan","fonts","mode","encodedWord","positionsWord","xAdvance","hadOffset","addSegment","cur","flush","xOffset","yOffset","MARKERS","COLOR_SPACE_MAP","JPEG","marker","readUInt16BE","bits","channels","colorSpace","obj","PNGImage","image","PNG","imgData","hasAlphaChannel","colors","palette","transparency","grayscale","greyscale","rgb","mask","indexed","loadIndexedAlphaChannel","splitAlphaChannel","alphaChannel","sMask","decodePixels","pixels","p","colorByteSize","pixelCount","len","done","deflate","err","imgData1","alphaChannel1","PDFImage","exec","_imageRegistry","_imageCount","bh","bp","bw","ip","left1","openImage","xobjects","wp","hp","fit","cover","valign","Rect","_convertRect","Border","C","Dest","annotations","Contents","Name","annotate","url","pages","Kids","A","QuadPoints","_markup","L","DA","PDFOutline","parent","title","dest","expanded","outlineData","children","Count","first","First","Last","child","Prev","Next","endOutline","outline","Outlines","PageMode","PDFDocument","stream","Readable","version","_pageBuffer","_pageBufferStart","_offsets","_waiting","_ended","initColor","initVector","initFonts","initText","initImages","initOutline","info","autoFirstPage","bufferPages","flushPages","start","count","_finalize","warn","stack","pipe","createWriteStream","_info","xRefOffset","mixin","methods","assign","prototype","ColorMixin","VectorMixin","FontsMixin","TextMixin","ImagesMixin","AnnotationsMixin","OutlineMixin"],"mappings":"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"}